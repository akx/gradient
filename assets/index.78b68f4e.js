var T=Object.defineProperty,G=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var P=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))I.call(t,n)&&P(e,n,t[n]);if(x)for(var n of x(t))k.call(t,n)&&P(e,n,t[n]);return e},f=(e,t)=>G(e,F(t));var b=(e,t)=>{var n={};for(var o in e)I.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&x)for(var o of x(e))t.indexOf(o)<0&&k.call(e,o)&&(n[o]=e[o]);return n};var N=(e,t,n)=>(P(e,typeof t!="symbol"?t+"":t,n),n);import{R as React,l as lodash,c as converter,s as standalone,p as parser,m as minify,u as useEvent,t as tw,a as useDebounce,b as arrayType,o as objectType,d as stringType,n as numberType,e as decode,f as encode,g as ReactDOM,T as Tab,D as Disclosure,h as setup}from"./vendor.f5db5195.js";const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};p();var InterpolationType;(function(e){e.Plain="Plain",e.Linear="Linear",e.CatmullRom="CatmullRom"})(InterpolationType||(InterpolationType={}));function aooReducer(e,t){switch(t.type){case"replace":return[...t.newObjects];case"add":return e.concat([t.value]);case"changePartial":return e.map(n=>n.id!==t.id?n:u(u({},n),t.changes));case"change":return e.map(n=>n.id!==t.value.id?n:t.value);case"delete":return e.filter(n=>n.id!==t.id)}return e}function useArrayOfObjects(e){const[t,n]=React.useReducer(aooReducer,void 0,e),[o,r]=React.useState(null),a=React.useCallback(m=>{n({type:"add",value:m})},[n]),c=React.useCallback(m=>{n({type:"change",value:m})},[n]),l=React.useCallback((m,i)=>{n({type:"changePartial",id:m,changes:i})},[n]),s=React.useCallback(m=>{n({type:"delete",id:m})},[n]),g=React.useCallback(m=>{n({type:"replace",newObjects:m})},[n]);return{objects:t,selectedId:o,change:c,changePartial:l,add:a,delete:s,select:r,replace:g}}const ColorStopsAPIContext=React.createContext({});function useColorStopsAPI(){return React.useContext(ColorStopsAPIContext)}var background="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAADFBMVEWIiIjd3d3y8vLm5uZzdc63AAAAbklEQVR42u3ZIQ4AIAwDwI39/8/wAlTFxFUgm5ALmFZV51Iv52Vyx/7CzhdONr3/ylCgQIECBQoUKFCgQIECBQoUKFCgQIECBcrmccGe4qX4vqBAgQIFChQoUKBAgQIFChQoUKBAgQIFij3lX3gBXBBzc8FaGvIAAAAASUVORK5CYII=",noisyBackground="/gradient/assets/nois.89278c6a.gif";const CodegenConfigContext=React.createContext({});function useCodegenConfig(){return React.useContext(CodegenConfigContext)}const defaultConfig={includeAlpha:!0,positionPrecision:3,valuePrecision:4},defaultJsConfig=f(u({},defaultConfig),{arrowFunction:!1});function formatNumber(e,t){return e===Math.round(e)?e.toFixed(0):e.toFixed(t)}const positionGetter=({position:e})=>e;function sortStops(e){return lodash.exports.sortedUniqBy(lodash.exports.sortBy(e,positionGetter),positionGetter)}function reverseColorStops(e){return sortStops(e.map(t=>f(u({},t),{position:1-t.position})))}function gammaToLinear(e){return e<=.0404482362771082?e/12.92:Math.pow((e+.055)/1.055,2.4)}function linearToGamma(e){return e<=.00313066844250063?e*12.92:1.055*Math.pow(e,1/2.4)-.055}const linearRgbConverter={id:"linearRgb",name:"Linear RGB",fromColor:e=>[e.r,e.g,e.b].map(gammaToLinear).concat([e.a]),toColor:([e,t,n,o])=>({r:linearToGamma(e),g:linearToGamma(t),b:linearToGamma(n),a:o})},srgbConverter={id:"srgb",name:"sRGB (identity)",fromColor:e=>[e.r,e.g,e.b,e.a],toColor:([e,t,n,o])=>({r:e,g:t,b:n,a:o})},rgbConverter=converter("rgb");function getRgbWithCulori(e){const t=rgbConverter(e);return{r:t.r,g:t.g,b:t.b,a:t.alpha||e.alpha||1}}const culoriOklab=converter("oklab"),oklabConverter={id:"oklab",name:"Oklab",fromColor:e=>{const{l:t,a:n,b:o,alpha:r}=culoriOklab(u({mode:"rgb"},e));return[t,n,o,r||e.a]},toColor:([e,t,n,o])=>getRgbWithCulori({mode:"oklab",l:e,a:t,b:n,alpha:o})},culoriHsl=converter("hsl"),hslConverter={id:"hsl",name:"HSL [buggy]",fromColor:e=>{const{h:t,s:n,l:o,alpha:r}=culoriHsl(u({mode:"rgb"},e));return[t||0,n,o,r||e.a]},toColor:([e,t,n,o])=>getRgbWithCulori({mode:"hsl",h:e,s:t,l:n,alpha:o})},culoriXyz=converter("xyz50"),xyzConverter={id:"xyz50",name:"XYZ50",fromColor:e=>{const{x:t,y:n,z:o,alpha:r}=culoriXyz(u({mode:"rgb"},e));return[t,n,o,r||e.a]},toColor:([e,t,n,o])=>getRgbWithCulori({mode:"xyz50",x:e,y:t,z:n,alpha:o})},converters=[srgbConverter,linearRgbConverter,oklabConverter,hslConverter,xyzConverter];function init(e,t,n,o){const r=e,a=n,c=-3*e+3*t-2*n-o,l=2*e-2*t+n+o;return[r,a,c,l]}function zero(){return[0,0,0,0]}function initCatmullRom(e,t,n,o,r){return init(t,n,r*(n-e),r*(o-t))}function initNonuniformCatmullRom(e,t,n,o,r,a,c){let l=(t-e)/r-(n-e)/(r+a)+(n-t)/a,s=(n-t)/a-(o-t)/(a+c)+(o-n)/c;return l*=a,s*=a,init(t,n,l,s)}function calc([e,t,n,o],r){const a=r*r,c=a*r;return e+t*r+n*a+o*c}function sub(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4]]}function add(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4]]}function distanceToSquared(e,t){const[n,o,r,a,c]=sub(e,t);return n*n+o*o+r*r+a*a+c*c}function compute5DCatmullRomPoints(e,t,n=!1,o="centripetal",r=.5){const a=[],c=[zero(),zero(),zero(),zero(),zero()],l=e.length;for(let s=0;s<t;s++){const g=s/(t-1),m=(l-(n?0:1))*g;let i=Math.floor(m),d=m-i;n?i+=i>0?0:(Math.floor(Math.abs(i)/l)+1)*l:d===0&&i===l-1&&(i=l-2,d=1);let C,h;n||i>0?C=e[(i-1)%l]:C=add(sub(e[0],e[1]),e[0]);const S=e[i%l],y=e[(i+1)%l];if(n||i+2<l?h=e[(i+2)%l]:h=add(sub(e[l-1],e[l-2]),e[l-1]),o==="centripetal"||o==="chordal"){const R=o==="chordal"?.5:.25;let w=Math.pow(distanceToSquared(C,S),R),v=Math.pow(distanceToSquared(S,y),R),A=Math.pow(distanceToSquared(y,h),R);v<1e-4&&(v=1),w<1e-4&&(w=v),A<1e-4&&(A=v);for(let E=0;E<5;E++)c[E]=initNonuniformCatmullRom(C[E],S[E],y[E],h[E],w,v,A)}else if(o==="catmullrom")for(let R=0;R<5;R++)c[R]=initCatmullRom(C[R],S[R],y[R],h[R],r);a.push([calc(c[0],d),calc(c[1],d),calc(c[2],d),calc(c[3],d),calc(c[4],d)])}return a}function toCssRgba(e){const t=Math.round(e.r*255),n=Math.round(e.g*255),o=Math.round(e.b*255),r=formatNumber(e.a*100,2);return`rgba(${t}, ${n}, ${o}, ${r}%)`}function toCssRgb(e){const t=Math.round(e.r*255),n=Math.round(e.g*255),o=Math.round(e.b*255);return`rgb(${t}, ${n}, ${o})`}function invertColor(e){return{r:1-e.r,g:1-e.g,b:1-e.b,a:e.a}}function modifyHSL(e,t){const n=converter("hsl")(u({mode:"rgb"},e));Object.assign(n,t);const o=converter("rgb")(n);return f(u({},e),{r:o.r,g:o.g,b:o.b})}function clamp(e,t=0,n=1){return Number.isNaN(e)?t:Math.max(t,Math.min(n,e))}function hexToColor(e,t=1){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{a:t,r:parseInt(n[1],16)/255,g:parseInt(n[2],16)/255,b:parseInt(n[3],16)/255}:null}function colorToHex(e){const t=n=>Math.round(n*255).toString(16).padStart(2,"0").toUpperCase();return`#${t(e.r)}${t(e.g)}${t(e.b)}`}function findStops(e,t){const n=0,o=e[n],r=e.length-1,a=e[r];if(e.length>1){if(t<o)return[n,n];if(t>a)return[r,r];for(let c=n;c<r;c++)if(e[c]<=t&&t<=e[c+1])return[c,c+1]}return[n,r]}function interpolate(e,t,n){if(e.length===0)return null;const[o,r]=findStops(e,n),a=e[o],l=e[r]-a,s=(n-a)/(l===0?1:l),g=1-s,m=t[o],i=t[r];return m.map((d,C)=>d*g+i[C]*s)}function sample(e,t){const n=sortStops(e),o=n.map(m=>m.position),r=n.map(({color:{a:m,b:i,g:d,r:C}})=>[C,d,i,m]),a=interpolate(o,r,t);if(!a)return null;const[c,l,s,g]=a;return{r:c,g:l,b:s,a:g}}function computeLinearInterpolation(e,{interpolationPoints:t}){const n=[],o=[],r=[];e.forEach(([a,...c])=>{n.push(a),o.push(c)});for(let a=0;a<t;a++){const c=a/(t-1),l=interpolate(n,o,c);l&&r.push([c,...l])}return r}function applyInterpolation(e,t){switch(t.interpolation){case InterpolationType.CatmullRom:return compute5DCatmullRomPoints(e.map(([n,o,r,a,c])=>[n,o,r,a,c]),t.interpolationPoints);case InterpolationType.Linear:return computeLinearInterpolation(e,t);default:return e}}function mangleGradient(e,t){e=sortStops(e);const n=converters.find(c=>c.id===t.colorspace)||srgbConverter,o=e.map(({color:c,position:l})=>[l].concat(n.fromColor(c))),a=applyInterpolation(o,t).map(([c,...l],s)=>({id:`x${s}`,position:clamp(c),color:n.toColor(l)}));return sortStops(a)}function formatColorReturn({r:e,g:t,b:n,a:o},r,a){const c=formatNumber(e,a),l=formatNumber(t,a),s=formatNumber(n,a);if(r){const g=formatNumber(o,a);return`[${c},${l},${s},${g}]`}return`[${c},${l},${s}]`}function formatABMultiplication(e,t,n){return e===0?"0":e===1?n:`${formatNumber(e,t)} * ${n}`}function formatLerpComponent(e,t,n){if(Math.abs(e-t)<.001)return formatNumber(e,n);const o=formatABMultiplication(e,n,"b"),r=formatABMultiplication(t,n,"a");return e===0?r:t===0?o:`${o} + ${r}`}function formatCode(e){return standalone.exports.format(e,{parser:parser.parsers.babel.parse,printWidth:120})}function writeJSBody(e,t,n){for(let o=0;o<t.length;o++){const r=t[o],a=o<t.length-1?t[o+1]:null,c=formatColorReturn(r.color,n.includeAlpha,n.valuePrecision),l=parseFloat(formatNumber(r.position,n.positionPrecision)),s=formatNumber(l,n.positionPrecision);if(o===t.length-1?e(`return ${c};`):o===0&&l>0&&e(`if(position <= ${s}) return ${c};`),a){const g=parseFloat(formatNumber(a.position,n.positionPrecision));e(`if(position < ${formatNumber(g,n.positionPrecision)})`),e("{");const m=g-l,i=formatNumber(1/m,n.positionPrecision);e(l===0?`const a = position * ${i}, b = 1 - a;`:`const a = (position - ${s}) * ${i}, b = 1 - a;`);const d=[formatLerpComponent(r.color.r,a.color.r,n.valuePrecision),formatLerpComponent(r.color.g,a.color.g,n.valuePrecision),formatLerpComponent(r.color.b,a.color.b,n.valuePrecision)];n.includeAlpha&&d.push(formatLerpComponent(r.color.a,a.color.a,n.valuePrecision)),e(`return [${d.join(",")}];`),e("}")}}}function generateRawCode(e,t,n){const o=mangleGradient(e,t),r=[],a=r.push.bind(r);return n.arrowFunction?a("(position) => {"):a("function getColor(position) {"),o.length?writeJSBody(a,o,n):a("return [0, 0, 0, 0]; /* No stops */"),a("}"),r.join("")}async function generateCode(e,t,n){const o=formatCode(generateRawCode(e,t,n)),a=(await minify(o,{mangle:!1})).code||"";return formatCode(a)}function renderGradient(ctx,stops,gradientConfig,jsCodegenConfig){if(ctx.canvas.width=0|ctx.canvas.width,stops.length===0)return;const imageData=new ImageData(ctx.canvas.width,4),code=generateRawCode(stops,gradientConfig,f(u({},jsCodegenConfig),{arrowFunction:!0})),getColor=eval(code),{width,height}=imageData;for(let e=0;e<width;e++){const t=e/(width-1),[n,o,r,a]=getColor(t),c=Math.round(n*255),l=Math.round(o*255),s=Math.round(r*255),g=Math.round((a===void 0?1:a)*255);for(let m=0;m<height;m++){const i=(m*width+e)*4;imageData.data[i]=c,imageData.data[i+1]=l,imageData.data[i+2]=s,imageData.data[i+3]=g}}ctx.putImageData(imageData,0,0),ctx.drawImage(ctx.canvas,0,0,width,2,0,0,width,ctx.canvas.height)}const GradientConfigContext=React.createContext({});function useGradientConfig(){return React.useContext(GradientConfigContext)}function GradientCanvas({colorStops:e}){const t=useCodegenConfig().object,n=useGradientConfig().object,o=React.useRef(null);React.useEffect(()=>{const a=o.current;if(!a)return;const c=a.getContext("2d");c&&renderGradient(c,e,n,u(u({},defaultJsConfig),t))},[e,t,n]);const r=e.length>0?{background:`url(${background})`}:{backgroundImage:`url(${noisyBackground})`,backgroundSize:"cover",backgroundPosition:"center center"};return React.createElement("canvas",{ref:o,width:1200,height:150,style:u({width:"100%"},r)})}function getX(e,t){const n=e.clientX,o=t.getBoundingClientRect(),r=o.left,a=o.width;return Math.min(1,Math.max(0,(n-r)/a))}function StopsSlider({colorStops:e,selectedStopId:t}){const n=useColorStopsAPI(),[o,r]=React.useState(null),a=React.useRef(null),c=React.useCallback(i=>{const d=i.target.dataset.stopid;d&&(r(d),n.select(d))},[n]),l=React.useCallback(()=>{r(null)},[]),s=React.useCallback(i=>{const d=a.current;if(!(o&&d))return;const C=getX(i,d);n.changePartial(o,{position:C})},[o,n]);useEvent("mouseup",o?l:null,window,{capture:!0}),useEvent("mousemove",o?s:null,window,{capture:!0});const g=React.useCallback(i=>{const d=i.target.dataset.stopid;d&&(n.select(d),i.stopPropagation(),i.preventDefault())},[n]),m=React.useCallback(i=>{if(i.target===a.current){const d=getX(i,a.current),C=sample(e,d)||{r:1,g:0,b:1,a:1},h=Math.random().toString(32);n.add({id:h,position:d,color:C}),n.select(h)}},[n,e]);return React.createElement("div",{style:{position:"relative",height:"1em",background:"cornsilk",userSelect:"none"},onMouseDown:c,onClick:g,onDoubleClick:m,ref:a},e.map(i=>React.createElement("div",{key:i.id,"data-stopid":i.id,style:{position:"absolute",left:`${i.position*100}%`,transform:"translateX(-50%) translateY(-5px)",background:toCssRgba(i.color),color:toCssRgb(invertColor(i.color)),cursor:"move",userSelect:"none",width:"5ch",textAlign:"center",border:"1px solid black",borderRadius:"3px",borderColor:t===i.id?"black":"transparent",fontSize:"8pt"}},(i.position*100).toFixed(0),"%")))}const NumberInput=o=>{var r=o,{isDisabled:e,onChange:t}=r,n=b(r,["isDisabled","onChange"]);return React.createElement("input",f(u({},n),{disabled:e,onChange:a=>t(a.target.value,a.target.valueAsNumber),type:"number",className:tw(n.className,"border-1","p-2","w-full")}))},Slider=o=>{var r=o,{isDisabled:e,children:t}=r,n=b(r,["isDisabled","children"]);return React.createElement("input",f(u({},n),{disabled:e,type:"range"}))},Textarea=n=>{var o=n,{children:e}=o,t=b(o,["children"]);return React.createElement("textarea",f(u({},t),{className:tw(t.className,"border-1","p-2")}))};function Checkbox({isChecked:e,onChange:t,children:n}){return React.createElement("label",null,React.createElement("input",{type:"checkbox",checked:e,onChange:t,className:tw`mr-2`}),n)}const Input=e=>React.createElement("input",f(u({},e),{className:tw(e.className,"border-1","p-2")})),FormControl=e=>React.createElement("div",u({},e)),FormHelperText=e=>React.createElement("span",u({},e)),FormLabel=e=>React.createElement("div",f(u({},e),{className:tw(e.className,"font-medium pb-1")})),Box=n=>{var o=n,{p:e}=o,t=b(o,["p"]);return React.createElement("div",f(u({},t),{className:tw(t.className,e?`p-${e}`:null)}))},Flex=n=>{var o=n,{className:e}=o,t=b(o,["className"]);return React.createElement("div",f(u({},t),{className:tw("flex",e)}))},Spacer=()=>React.createElement("div",{className:tw`flex flex-grow`}),Stack=n=>{var o=n,{direction:e}=o,t=b(o,["direction"]);return React.createElement("div",f(u({},t),{className:tw(t.className,"flex",{"flex-col":e==="column","flex-row":e==="row"})}))};function ColorComponentSlider({onChange:e,label:t,value:n,eventKey:o,min:r,max:a,formatHelp:c,trackColor:l}){return React.createElement(FormControl,null,React.createElement(FormLabel,null,t),React.createElement(Flex,null,React.createElement(Slider,{className:tw`flex-1 mr-1`,style:{accentColor:l},value:n,step:"any",onChange:s=>e(o,s.target.valueAsNumber),min:r,max:a}),React.createElement(NumberInput,{style:{width:"7rem"},min:r,max:a,step:(a-r)/100,value:n,onChange:(s,g)=>e(o,g)})),c?React.createElement(FormHelperText,null,c(n)):null)}var ColorComponentSlider$1=React.memo(ColorComponentSlider);const Button=e=>React.createElement("button",f(u({},e),{className:tw(e.className,"rounded-md","px-4 py-2","bg-gray(200 300(hover:& focus:&)")})),ButtonGroup=n=>{var o=n,{spacing:e}=o,t=b(o,["spacing"]);return React.createElement("div",f(u({},t),{className:tw(t.className,"flex",`gap-${e}`)}))},formatComponentHelp=e=>{const t=Math.round(e*255);return React.createElement(React.Fragment,null,t)};function StopEditor({stop:e}){const t=useColorStopsAPI(),n=React.useCallback((a,c)=>{const l=u({},e),{color:s}=l;switch(a){case"red":l.color=f(u({},s),{r:clamp(c)});break;case"green":l.color=f(u({},s),{g:clamp(c)});break;case"blue":l.color=f(u({},s),{b:clamp(c)});break;case"alpha":l.color=f(u({},s),{a:clamp(c)});break;case"hue":l.color=modifyHSL(s,{h:c});break;case"saturation":l.color=modifyHSL(s,{s:clamp(c)});break;case"lightness":l.color=modifyHSL(s,{l:clamp(c)});break}t.change(l)},[t,e]),o=converter("hsl")(u({mode:"rgb"},e.color)),r=React.useCallback(a=>{const c=hexToColor(a.target.value,e.color.a);c&&t.change(f(u({},e),{color:c}))},[t,e]);return React.createElement(Box,{className:tw`border-1 rounded-lg`,p:6},React.createElement(FormControl,null,React.createElement(FormLabel,null,"Position"),React.createElement(Flex,null,React.createElement(Slider,{className:tw`mr-2 flex-1`,value:e.position,step:"any",min:0,max:1,onChange:a=>t.changePartial(e.id,{position:clamp(a.target.valueAsNumber)})}),React.createElement(NumberInput,{style:{width:"7rem"},min:0,max:1,step:.01,value:e.position,onChange:(a,c)=>t.changePartial(e.id,{position:clamp(c)})}))),React.createElement("div",{className:tw`grid grid-cols-4 gap-2`},React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Red",eventKey:"red",onChange:n,value:e.color.r,min:0,max:1,trackColor:"red",formatHelp:formatComponentHelp})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Green",eventKey:"green",onChange:n,value:e.color.g,min:0,max:1,trackColor:"green",formatHelp:formatComponentHelp})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Blue",eventKey:"blue",onChange:n,value:e.color.b,min:0,max:1,trackColor:"blue",formatHelp:formatComponentHelp})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Alpha",eventKey:"alpha",onChange:n,value:e.color.a,min:0,max:1,formatHelp:formatComponentHelp}))),React.createElement("div",{className:tw`grid grid-cols-3 gap-2`},React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Hue",eventKey:"hue",onChange:n,value:o.h||0,min:0,max:360,trackColor:`hsl(${(o.h||0).toFixed(1)}deg, 100%, 50%)`})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Saturation",eventKey:"saturation",onChange:n,value:o.s,min:0,max:1,trackColor:`hsl(${(o.h||0).toFixed(1)}deg, ${(o.s*100).toFixed(1)}%, 50%)`})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Lightness",eventKey:"lightness",onChange:n,value:o.l,min:0,max:1,trackColor:`hsl(0deg, 0%, ${(o.l*100).toFixed(1)}%)`}))),React.createElement("div",{className:tw`grid grid-cols-3 gap-2`},React.createElement(Box,null,React.createElement(FormLabel,null,"Hex value"),React.createElement(Input,{value:colorToHex(e.color),onChange:r}))),React.createElement(ButtonGroup,{className:tw`pt-4`,spacing:6},React.createElement(Button,{className:tw`bg-red-400`,onClick:()=>t.delete(e.id)},"Delete stop")))}function CodegenSettings(){const e=useCodegenConfig(),t=e.object;return React.createElement("div",{className:tw`grid grid-rows-3 gap-2`},React.createElement(FormControl,null,React.createElement(FormLabel,null,"Value precision"),React.createElement(NumberInput,{value:t.valuePrecision,min:0,step:1,onChange:(n,o)=>e.change({valuePrecision:clamp(o,0,10)})})),React.createElement(FormControl,null,React.createElement(FormLabel,null,"Position precision"),React.createElement(NumberInput,{value:t.positionPrecision,min:1,step:1,onChange:(n,o)=>e.change({positionPrecision:clamp(o,0,10)})})),React.createElement(FormControl,null,React.createElement(Checkbox,{isChecked:t.includeAlpha,onChange:n=>e.change({includeAlpha:n.target.checked})},"Include alpha")))}function GradientJSCodePanel(){const e=useColorStopsAPI(),t=useGradientConfig(),n=useCodegenConfig(),{objects:o}=e,{object:r}=n,{object:a}=t,[c,l]=React.useState("");return useDebounce(()=>{generateCode(o,a,u(u({},defaultJsConfig),r)).then(l)},100,[a,r,o]),React.createElement(Flex,null,React.createElement(Textarea,{readOnly:!0,value:c,rows:15,className:tw`flex-1`}),React.createElement("div",{className:tw`ml-4`,style:{minWidth:"15em"}},React.createElement(CodegenSettings,null)))}function generateCssGradientStops(e,t,n){const o=mangleGradient(e,t),r=n.includeAlpha&&o.some(c=>c.color.a!==1),a=[];for(let c=0;c<o.length;c++){const l=o[c],s=r?toCssRgba(l.color):toCssRgb(l.color),g=formatNumber(l.position*100,clamp(n.positionPrecision-2,0,10));a.push(`${s} ${g}%`)}return a.join(", ")}function GradientCSSCode(){const e=useColorStopsAPI(),t=useGradientConfig(),n=useCodegenConfig(),{objects:o}=e,r=generateCssGradientStops(o,t.object,n.object);return React.createElement(Flex,null,React.createElement(Textarea,{readOnly:!0,value:r,rows:5,style:{background:`linear-gradient(to right, ${r})`},className:tw`flex-1`}),React.createElement(Box,{className:tw`ml-3`,style:{minWidth:"15em"}},React.createElement(CodegenSettings,null)))}function generateSVGGradient(e,t,n){return['<linearGradient x1="0%" y1="0%" x2="100%" y2="0%">',generateSVGGradientStops(e,t,n),"</linearGradient>"].join(`
`)}function generateSVGGradientStops(e,t,n){const o=mangleGradient(e,t),r=n.includeAlpha&&o.some(c=>c.color.a!==1),a=[];for(let c=0;c<o.length;c++){const l=o[c],s=r?toCssRgba(l.color):toCssRgb(l.color),g=formatNumber(l.position*100,clamp(n.positionPrecision-2,0,10));a.push(`    <stop offset="${g}%" stop-color="${s}" />`)}return a.join(`
`)}function GradientSVGCodePanel(){const e=useColorStopsAPI(),t=useGradientConfig(),n=useCodegenConfig(),{objects:o}=e,r=generateSVGGradient(o,t.object,n.object);return React.createElement(Flex,null,React.createElement(Textarea,{readOnly:!0,value:r,rows:15,className:tw`flex-1`}),React.createElement("div",{className:tw`ml-4`,style:{minWidth:"15em"}},React.createElement(CodegenSettings,null)))}const stateSchema=arrayType(objectType({id:stringType().optional(),position:numberType(),color:objectType({r:numberType(),g:numberType(),b:numberType(),a:numberType()}).partial()}));function exportJSON(e){return JSON.stringify(sortStops(e).map(t=>{const n=u({},t);return delete n.id,n}),null,2)}function importJSON(e){if(!Array.isArray(e))throw new Error("not an array");return stateSchema.parse(e).map((n,o)=>({id:n.id||`${o}`,position:n.position,color:u({r:0,g:0,b:0,a:1},n.color)}))}function base64ToURLSafe(e){return e.replace(/\+/g,"_").replace(/\//g,"-").replace(/=+$/,"")}function decodeURLSafeBase64ToArrayBuffer(e){return decode(e.replace(/_/g,"+").replace(/-/g,"/"))}function getBytesPerStop(e){return e===2?6:5}function exportCompressed(e){const t=e.some(c=>c.color.a!==1),n=t?2:1,o=getBytesPerStop(n),r=new ArrayBuffer(1+o*e.length),a=new DataView(r);return a.setUint8(0,n),e.forEach((c,l)=>{const s=1+l*o;a.setUint16(s,clamp(c.position)*65535,!0),a.setUint8(s+2,clamp(c.color.r)*255),a.setUint8(s+3,clamp(c.color.g)*255),a.setUint8(s+4,clamp(c.color.b)*255),t&&a.setUint8(s+5,clamp(c.color.a)*255)}),base64ToURLSafe(encode(r))}function importCompressed(e){const t=decodeURLSafeBase64ToArrayBuffer(e),n=new DataView(t),o=n.getUint8(0);if(o<1||o>2)throw new Error(`invalid version ${o}`);const r=getBytesPerStop(o),a=(t.byteLength-1)/r,c=[];for(let l=0;l<a;l++){const s=1+l*r;c.push({id:l.toString(16),position:n.getUint16(s,!0)/65535,color:{r:n.getUint8(s+2)/255,g:n.getUint8(s+3)/255,b:n.getUint8(s+4)/255,a:o===2?n.getUint8(s+5)/255:1}})}return c}var ExportFormat;(function(e){e.JSON="json",e.Compressed="compressed"})(ExportFormat||(ExportFormat={}));function importState(e){return e.startsWith("[")||e.startsWith("{")?importJSON(JSON.parse(e)):importCompressed(e)}function exportInFormat(e,t){switch(t){case ExportFormat.Compressed:return exportCompressed(e);case ExportFormat.JSON:return exportJSON(e)}throw new Error}function ToastView({toast:e}){return React.createElement("div",{className:tw`mb-1 p-3 rounded-md bg-gray-300 shadow-md`},e.title)}const ToastBox=React.forwardRef((e,t)=>{const[n,o]=React.useState([]),r=React.useCallback(a=>o(c=>c.concat(f(u({},a),{id:Date.now().toString(36)}))),[]);return React.useImperativeHandle(t,()=>({addToast:r})),React.useEffect(()=>{if(console.log("???",n.length),!n.length)return;const a=setTimeout(()=>o(c=>c.slice(1)),1500);return()=>clearTimeout(a)},[n.length]),n.length?React.createElement("div",{style:{position:"fixed",top:"1em",right:"1em"}},n.map(a=>React.createElement(ToastView,{key:a.id,toast:a}))):null});ToastBox.displayName="ToastBox";class ToastManager{constructor(){N(this,"container");N(this,"instance",React.createRef())}init(){this.container||(this.container=document.createElement("toast-box"),document.body.appendChild(this.container),ReactDOM.render(React.createElement(ToastBox,{ref:this.instance}),this.container))}toast(t){var n;this.init(),(n=this.instance.current)==null||n.addToast(t)}}let toastManager;const doToast=e=>{toastManager||(toastManager=new ToastManager),toastManager.toast(e)};function useToast(){return doToast}function useDisclosure(){const[e,t]=React.useState(!1);return{onOpen:()=>t(!0),isOpen:e,onClose:()=>t(!1)}}function ImportExportPanel({format:e,autoUpdate:t}){const n=useToast(),o=useColorStopsAPI(),{objects:r}=o,[a,c]=React.useState(""),l=React.useCallback(()=>{try{const m=importState(a);o.replace(m),n({status:"success",title:"Import successful"})}catch(m){n({status:"error",title:"Import failed",description:m.toString()})}},[o,a,n]),s=React.useCallback(()=>{c(exportInFormat(r,e))},[r,e]),g=React.useCallback(async()=>{const m=exportInFormat(r,e),i=new URL(window.location.href);i.search=new URLSearchParams([["s",m]]).toString();try{await navigator.clipboard.writeText(i.toString()),n({status:"success",title:"Link copied",description:i.toString()})}catch(d){n({status:"error",title:d.toString()})}},[r,e,n]);return React.useEffect(()=>{t&&s()},[r,t,s]),React.useEffect(()=>{s()},[s]),React.createElement(React.Fragment,null,React.createElement(Textarea,{value:a,onChange:m=>c(m.target.value),rows:e==="json"?15:3,className:tw`w-full`}),React.createElement(ButtonGroup,{className:"pt-2",spacing:4},t?null:React.createElement(Button,{onClick:s},"Export current state"),React.createElement(Button,{onClick:l},"Load state"),e==="compressed"?React.createElement(Button,{onClick:g},"Copy link"):null))}const Stab=({children:e})=>React.createElement(Tab,{className:({selected:t})=>tw("py-2 px-3 border-b-2",t?"text-blue-700 border-blue-700":"border-transparent"),style:{marginBottom:"-2px"}},e);function GradientCode(){return React.createElement("div",{className:tw`flex-1`},React.createElement(Tab.Group,null,React.createElement(Tab.List,{className:tw`mb-2 border-b-2`},React.createElement(Stab,null,"JavaScript"),React.createElement(Stab,null,"CSS"),React.createElement(Stab,null,"SVG"),React.createElement(Stab,null,"JSON (import/export)"),React.createElement(Stab,null,"Compressed (import/export)")),React.createElement(Tab.Panels,null,React.createElement(Tab.Panel,null,React.createElement(GradientJSCodePanel,null)),React.createElement(Tab.Panel,null,React.createElement(GradientCSSCode,null)),React.createElement(Tab.Panel,null,React.createElement(GradientSVGCodePanel,null)),React.createElement(Tab.Panel,null,React.createElement(ImportExportPanel,{format:ExportFormat.JSON})),React.createElement(Tab.Panel,null,React.createElement(ImportExportPanel,{format:ExportFormat.Compressed,autoUpdate:!0})))))}const RadioGroupContext=React.createContext({isDisabled:!1}),Radio=o=>{var r=o,{disabled:e,children:t}=r,n=b(r,["disabled","children"]);return React.createElement(RadioGroupContext.Consumer,null,a=>{var c;return React.createElement("label",{className:tw`py-1`},React.createElement("input",f(u({},n),{disabled:(c=a.isDisabled)!=null?c:e,onChange:l=>{var s;return(s=a.onChange)==null?void 0:s.call(a,l.target.value)},checked:a.value===n.value,type:"radio",className:tw`mr-2`})),t)})},RadioGroup=r=>{var a=r,{isDisabled:e,onChange:t,value:n}=a,o=b(a,["isDisabled","onChange","value"]);const c=React.useMemo(()=>({isDisabled:!!e,onChange:t,value:n}),[e,t,n]);return React.createElement(RadioGroupContext.Provider,{value:c},React.createElement("div",u({},o)))};function GradientConfigPanel(){var o,r;const e=useGradientConfig(),t=e.object,n=(r=(o=converters.find(a=>a.id===t.colorspace))==null?void 0:o.name)!=null?r:"???";return React.createElement("div",{className:tw`grid grid-cols-3 gap-2`},React.createElement(FormControl,null,React.createElement(FormLabel,null,"Color Space"),React.createElement(RadioGroup,{isDisabled:t.interpolation===InterpolationType.Plain,onChange:a=>e.change({colorspace:a.toString()}),value:t.colorspace},React.createElement(Stack,{direction:"column"},converters.map(a=>React.createElement(Radio,{key:a.id,value:a.id},a.name))))),React.createElement(FormControl,null,React.createElement(FormLabel,null,"Interpolation"),React.createElement(RadioGroup,{onChange:a=>e.change({interpolation:a}),value:t.interpolation},React.createElement(Stack,{direction:"column"},React.createElement(Radio,{value:InterpolationType.Plain},"Plain (Linear)"),React.createElement(Radio,{value:InterpolationType.Linear},"Linear in ",n),React.createElement(Radio,{value:InterpolationType.CatmullRom},"Catmull-Rom 5D in ",n)))),React.createElement(FormControl,null,React.createElement(FormLabel,null,"Interpolation points"),React.createElement(NumberInput,{isDisabled:t.interpolation===InterpolationType.Plain,value:t.interpolationPoints,min:2,step:1,onChange:(a,c)=>e.change({interpolationPoints:clamp(c,2,100)})})))}const AccordionHeader=({children:e,open:t})=>React.createElement(Disclosure.Button,{className:tw`p-2 bg-gray-100 w-full text-left flex select-none`},React.createElement("div",null,t?"-":"+"," ",e)),AccordionPanel=n=>{var o=n,{children:e}=o,t=b(o,["children"]);return React.createElement(Disclosure.Panel,null,React.createElement("div",f(u({},t),{className:tw(t.className,"pt-2 pb-4")}),e))},Accordion=({title:e,children:t})=>React.createElement(Disclosure,{defaultOpen:!0},({open:n})=>React.createElement(React.Fragment,null,React.createElement(AccordionHeader,{open:n},e),React.createElement(AccordionPanel,null,t)));function MainAccordion(){const{objects:e,selectedId:t}=useColorStopsAPI(),n=e.find(o=>o.id===t);return React.createElement("div",null,React.createElement(Accordion,{title:"Editor"},React.createElement(GradientCanvas,{colorStops:e}),React.createElement(StopsSlider,{colorStops:e,selectedStopId:t}),n?React.createElement(StopEditor,{stop:n}):null),React.createElement(Accordion,{title:"Configuration"},React.createElement(GradientConfigPanel,null)),React.createElement(Accordion,{title:"Code"},React.createElement(GradientCode,null)))}function HelpContent(){return React.createElement("ul",null,React.createElement("li",null,"Double-click on the stop slider to add new stops"),React.createElement("li",null,"Stops can be dragged on the slider too"),React.createElement("li",null,React.createElement("a",{href:"https://github.com/akx/gradient"},"Open source")))}const bodyStyle={position:"fixed",top:"5vh",width:"30em",left:"50%",marginLeft:"-15em",background:"#fff",zIndex:9e3},overlayStyle={background:"rgba(0,0,0,40%)",position:"fixed",left:"0",top:"0",width:"100%",height:"100%",zIndex:8e3};function HelpModal({onClose:e,open:t}){return t?React.createElement("div",null,React.createElement("div",{style:overlayStyle,onClick:e}),React.createElement("div",{style:bodyStyle,className:tw`p-4`},React.createElement(HelpContent,null))):null}const palettes=[[[188,137,43],[120,205,208],[181,177,216]],[[166,161,89],[0,180,155],[0,91,141],[185,132,175]],[[216,163,123],[80,19,69],[161,163,154]],[[181,147,146],[226,181,64],[0,110,184]],[[183,31,87],[216,163,123],[163,106,165]],[[255,239,174],[238,167,140],[85,88,50]],[[243,162,87],[248,237,67],[98,198,191]],[[248,237,67],[0,151,141],[0,148,101],[188,228,229]],[[218,82,93],[197,159,107],[150,209,170],[185,132,175]],[[193,159,44],[113,80,47],[84,112,118]],[[243,162,87],[37,49,34],[182,191,193]],[[244,128,103],[131,126,49],[150,209,170]],[[253,212,189],[131,126,49],[175,212,114],[0,113,144]],[[253,212,189],[178,183,62],[180,205,194]],[[209,176,167],[0,147,165],[64,69,106]],[[197,83,71],[121,51,39],[165,200,209]],[[226,181,64],[249,157,27],[193,107,39]],[[204,18,54],[255,242,0],[26,116,68],[17,19,20]],[[128,38,38],[226,181,64],[166,161,89]],[[253,197,126],[178,183,62],[118,44,25],[17,19,20]],[[128,38,38],[238,180,128],[131,126,49],[0,113,144]],[[248,182,186],[221,64,39],[183,194,169],[0,147,165]],[[188,137,43],[99,90,58],[26,116,68]],[[235,211,162],[249,157,27],[151,172,200]],[[244,128,103],[181,222,204],[150,209,170]],[[174,82,36],[235,211,162],[99,90,58],[6,79,110]],[[244,128,103],[251,230,160],[17,47,44]],[[168,66,34],[246,140,80],[75,51,23],[0,144,138]],[[238,180,128],[193,196,148],[100,80,161]],[[128,38,38],[249,157,27],[180,205,194]],[[181,222,204],[150,209,170],[52,69,76]],[[181,147,146],[245,236,194],[37,49,34],[151,172,200]],[[181,147,146],[216,163,123],[181,222,204]],[[235,83,36],[113,148,112],[0,79,70]],[[243,127,148],[253,212,189],[175,212,114],[17,19,20]],[[193,196,148],[67,119,66],[37,49,34],[80,19,69]],[[248,237,67],[118,44,25],[181,222,204]],[[174,82,36],[252,179,21],[0,147,155],[64,69,106]],[[243,162,87],[246,140,80],[64,69,106],[6,79,110]],[[151,172,200],[5,18,48],[182,191,193]],[[253,191,104],[249,157,27],[0,151,141],[0,110,184]],[[112,114,124],[140,76,98],[89,37,106]],[[187,113,37],[235,211,162],[107,113,64],[52,69,76]],[[243,127,148],[154,114,170],[89,37,106]],[[202,179,86],[241,90,48],[0,180,155],[188,228,229]],[[242,114,145],[84,112,118],[122,68,86]],[[183,31,87],[150,209,170],[9,145,151],[17,47,44]],[[163,103,82],[180,205,194],[17,19,20]],[[174,82,36],[249,157,27],[107,113,64],[64,69,106]],[[0,91,141],[192,169,179],[163,106,165]],[[248,182,186],[98,198,191],[154,114,170]],[[181,147,146],[174,82,36],[241,90,48],[181,222,204]],[[249,193,206],[253,212,189],[120,205,208]],[[187,113,37],[255,221,0],[0,151,141],[28,66,134]],[[128,38,38],[238,167,140],[79,64,134]],[[214,180,62],[243,116,32],[17,47,44]],[[199,209,79],[0,180,155],[150,209,170],[120,205,208]],[[245,236,194],[241,90,48],[175,212,114],[135,197,64]],[[224,179,182],[121,51,39],[90,130,179]],[[166,44,55],[255,239,174],[182,191,193]],[[218,82,93],[187,113,37],[193,159,44],[9,145,151]],[[174,82,36],[238,180,128],[181,222,204],[52,69,76]],[[121,51,39],[194,174,147],[214,180,62],[84,112,118]],[[253,191,104],[194,174,147],[188,228,229],[0,113,144]],[[187,113,37],[217,102,41],[0,147,155]],[[171,36,57],[152,111,45],[151,172,200]],[[171,84,77],[128,38,38],[113,148,112],[98,198,191]],[[246,140,80],[166,161,89],[5,18,48]],[[245,142,132],[245,236,194],[129,146,56],[165,200,209]],[[248,237,67],[37,49,34],[98,198,191]],[[130,36,31],[249,157,27],[79,64,134],[52,69,76]],[[238,167,140],[255,221,0],[167,212,228]],[[124,66,38],[216,163,123],[85,88,50]],[[166,44,55],[252,179,21],[0,79,70],[192,169,179]],[[226,98,94],[255,221,0],[0,180,155],[0,79,70]],[[121,51,39],[216,163,123],[0,110,184]],[[174,82,36],[248,237,67],[150,209,170],[0,110,184]],[[187,113,37],[181,222,204],[112,147,144],[72,155,110]],[[243,127,148],[252,179,21],[178,183,62]],[[221,64,39],[252,179,21],[79,64,134]],[[187,113,37],[255,221,0],[249,157,27],[67,119,66]],[[166,44,55],[193,196,148],[113,148,112]],[[130,36,31],[176,159,54],[0,180,155]],[[242,114,145],[183,63,116],[131,126,49],[30,14,63]],[[204,18,54],[253,191,104],[0,151,141]],[[241,90,48],[0,180,155],[182,191,193],[17,19,20]],[[245,236,194],[67,119,66],[151,172,200]],[[235,83,36],[72,155,110],[17,19,20]],[[128,38,38],[216,163,123],[26,116,68]],[[218,82,93],[251,230,160],[226,181,64],[17,47,44]],[[174,82,36],[255,221,0],[72,155,110]],[[253,191,104],[192,169,179],[80,19,69],[52,69,76]],[[243,127,148],[121,51,39],[255,239,174],[66,83,62]],[[253,197,126],[28,66,134],[163,106,165],[17,19,20]],[[235,211,162],[226,181,64],[28,66,134]],[[174,82,36],[249,157,27],[112,147,144],[0,91,141]],[[253,197,126],[113,80,47],[167,212,228]],[[244,128,103],[67,119,66],[37,49,34],[165,200,209]],[[188,137,43],[28,66,134],[132,86,91]],[[245,236,194],[238,180,128],[131,126,49],[37,49,34]],[[255,239,174],[0,151,141],[150,209,170],[0,113,144]],[[171,84,77],[128,110,75],[28,66,134]],[[248,182,186],[243,162,87],[194,117,68]],[[166,44,55],[79,64,134],[80,19,69]],[[181,147,146],[202,179,86],[180,205,194]],[[0,110,184],[185,132,175],[161,163,154]],[[243,127,148],[102,98,156],[182,191,193]],[[183,63,116],[194,117,68],[165,200,209]],[[197,60,105],[238,167,140],[129,146,56],[0,113,144]],[[187,113,37],[238,167,140],[194,174,147],[18,53,78]],[[235,211,162],[249,157,27],[192,169,179]],[[249,157,27],[100,75,30],[122,68,86],[17,19,20]],[[245,236,194],[243,162,87],[176,159,54]],[[204,18,54],[238,180,128],[5,18,48]],[[243,127,148],[174,82,36],[26,116,68],[17,19,20]],[[245,142,132],[203,47,67],[37,49,34],[0,79,70]],[[221,64,39],[255,239,174],[197,165,110],[84,112,118]],[[248,237,67],[246,140,80],[80,19,69],[52,69,76]],[[209,176,167],[203,47,67],[217,102,41],[150,209,170]],[[204,18,54],[181,177,216],[163,106,165],[80,19,69]],[[187,113,37],[166,44,55],[79,64,134]],[[121,51,39],[253,191,104],[139,131,91],[0,151,141]],[[143,160,113],[151,172,200],[150,209,170]],[[221,64,39],[243,162,87],[28,66,134]],[[244,128,103],[245,236,194],[243,162,87],[191,88,146]],[[197,83,71],[253,197,126],[100,143,123]],[[166,44,55],[129,146,56],[18,53,78],[52,69,76]],[[178,183,62],[167,212,228],[100,80,161]],[[167,33,68],[255,242,0],[26,116,68],[52,69,76]],[[109,65,69],[253,191,104],[79,64,134]],[[109,65,69],[202,146,168],[113,59,76],[17,19,20]],[[218,82,93],[235,211,162],[176,159,54],[67,119,66]],[[255,239,174],[243,116,32],[181,222,204],[151,172,200]],[[187,113,37],[202,179,86],[120,205,208],[17,19,20]],[[245,236,194],[253,191,104],[67,119,66],[151,172,200]],[[224,179,182],[242,114,145],[109,65,69]],[[169,65,81],[193,159,44],[151,172,200]],[[212,109,122],[143,160,113],[185,132,175]],[[248,182,186],[245,236,194],[131,126,49],[202,146,168]],[[216,163,123],[217,102,41],[165,200,209],[64,69,106]],[[227,31,38],[252,179,21],[0,110,184],[163,106,165]],[[130,36,31],[0,148,101],[79,64,134],[89,37,106]],[[249,193,206],[125,19,58],[163,103,82],[182,191,193]],[[243,127,148],[202,179,86],[167,212,228],[120,205,208]],[[248,182,186],[192,169,179],[122,68,86]],[[167,33,68],[255,239,174],[120,205,208],[161,163,154]],[[244,128,103],[251,230,160],[0,144,138]],[[128,38,38],[150,135,77],[181,177,216]],[[248,237,67],[199,209,79],[64,69,106],[30,14,63]],[[242,114,145],[235,211,162],[132,128,97]],[[238,167,140],[243,116,32],[0,148,101],[17,19,20]],[[166,44,55],[182,191,193],[17,19,20]],[[227,31,38],[235,211,162],[143,160,113],[163,106,165]],[[243,162,87],[0,113,144],[52,69,76]],[[253,191,104],[255,242,0],[0,110,184],[30,14,63]],[[197,60,105],[30,14,63],[154,114,170],[79,64,134]],[[242,114,145],[255,239,174],[182,191,193]],[[193,196,148],[188,228,229],[151,172,200],[9,145,151]],[[214,180,62],[252,179,21],[0,147,165]],[[125,19,58],[214,180,62],[90,130,179]],[[253,191,104],[0,110,184],[191,88,146]],[[235,211,162],[165,200,209],[9,145,151]],[[241,90,48],[139,131,91],[90,130,179],[154,114,170]],[[171,36,57],[90,130,179],[163,106,165],[182,191,193]],[[171,36,57],[253,191,104],[183,194,169],[199,209,79]],[[243,127,148],[188,137,43],[181,177,216],[112,67,87]],[[235,211,162],[163,103,82],[79,64,134]],[[253,191,104],[75,51,23],[112,114,124]],[[194,174,147],[167,212,228],[6,79,110]],[[121,51,39],[188,228,229],[98,198,191],[100,80,161]],[[248,237,67],[194,117,68],[135,197,64]],[[197,83,71],[194,174,147],[118,44,25],[122,68,86]],[[253,197,126],[100,143,123],[102,98,156]],[[246,145,126],[255,242,0],[0,147,165]],[[251,230,160],[241,90,48],[37,49,34],[182,191,193]],[[255,221,0],[188,137,43],[151,172,200]],[[187,113,37],[128,38,38],[163,106,165],[17,19,20]],[[235,83,36],[0,151,141],[5,18,48]],[[235,211,162],[217,102,41],[17,19,20]],[[253,197,126],[154,114,170],[182,191,193]],[[245,236,194],[9,145,151],[0,113,144]],[[248,237,67],[6,79,110],[140,76,98]],[[128,110,75],[66,83,62],[0,79,70],[17,47,44]],[[244,128,103],[253,191,104],[181,222,204],[120,205,208]],[[245,236,194],[216,163,123],[113,80,47],[52,69,76]],[[187,113,37],[75,51,23],[5,18,48]],[[253,191,104],[214,180,62],[67,119,66],[0,79,70]],[[181,147,146],[197,97,39],[109,126,119],[0,113,144]],[[253,197,126],[248,237,67],[85,88,50]],[[183,63,116],[243,116,32],[17,19,20]],[[243,127,148],[121,51,39],[28,66,134],[78,29,76]],[[243,116,32],[175,212,114],[18,53,78]],[[238,180,128],[255,221,0],[178,183,62],[181,222,204]],[[183,63,116],[181,222,204],[199,209,79],[109,126,119]],[[218,82,93],[245,236,194],[107,113,64],[67,119,66]],[[204,18,54],[255,242,0],[0,110,184]],[[203,47,67],[0,148,101],[89,37,106]],[[248,182,186],[253,191,104],[152,111,45],[37,49,34]],[[181,147,146],[187,113,37],[37,49,34],[188,228,229]],[[183,63,116],[252,179,21],[89,37,106]],[[248,182,186],[168,66,34],[245,236,194],[253,197,126]],[[249,193,206],[165,200,209],[0,147,165]],[[124,66,38],[238,180,128],[0,91,141]],[[181,147,146],[197,83,71],[255,239,174]],[[109,65,69],[255,239,174],[85,88,50],[150,209,170]],[[204,18,54],[0,79,70],[112,67,87]],[[245,142,132],[248,237,67],[122,68,86]],[[255,239,174],[238,180,128],[197,165,110],[194,174,147]],[[0,91,141],[181,177,216],[112,114,124]],[[212,109,122],[255,221,0],[166,161,89],[30,14,63]],[[242,114,145],[130,36,31],[181,222,204]],[[227,31,38],[235,211,162],[143,160,113],[0,151,141]],[[218,82,93],[85,88,50],[202,146,168],[122,68,86]],[[212,109,122],[238,167,140],[180,205,194],[0,180,155]],[[248,182,186],[255,239,174],[161,163,154]],[[187,113,37],[248,237,67],[241,90,48],[17,19,20]],[[252,199,155],[194,174,147],[248,237,67],[181,222,204]],[[166,44,55],[150,135,77],[64,69,106]],[[124,66,38],[178,183,62],[30,14,63]],[[248,237,67],[9,145,151],[0,91,141],[161,163,154]],[[214,180,62],[150,209,170],[79,64,134]],[[245,236,194],[249,157,27],[6,79,110]],[[255,221,0],[181,222,204],[0,113,144]],[[194,117,68],[0,113,144],[89,37,106]],[[243,127,148],[187,113,37],[194,174,147],[192,169,179]],[[235,83,36],[253,212,189],[90,130,179]],[[166,44,55],[118,44,25],[151,172,200]],[[227,31,38],[168,66,34],[191,88,146],[100,80,161]]];function getRandomGradient(e=.2){const t=palettes[Math.round(palettes.length*Math.random())];return t.map(([o,r,a],c)=>{const l=Math.max(0,Math.min(1,c/(t.length-1)-e+Math.random()*(e*2)));return{id:`${c}`,position:l,color:{r:o/255,g:r/255,b:a/255,a:1}}})}function MainToolbar(){const e=useDisclosure(),t=useColorStopsAPI(),n=React.useCallback(()=>{t.replace(getRandomGradient())},[t]),o=React.useCallback(()=>{t.replace(reverseColorStops(t.objects))},[t]);return React.createElement(React.Fragment,null,React.createElement("div",{className:tw`py-3`},React.createElement(Flex,null,React.createElement(ButtonGroup,{spacing:3},React.createElement(Button,{onClick:n},"Random"),React.createElement(Button,{onClick:o},"Reverse")),React.createElement(Spacer,null),React.createElement(ButtonGroup,{spacing:3},React.createElement(Button,{onClick:e.onOpen},"Help")))),React.createElement(HelpModal,{open:e.isOpen,onClose:e.onClose}))}function objectReducer(e,t){switch(t.type){case"replace":return u({},t.newObject);case"change":return u(u({},e),t.changes)}return e}function useObject(e){const[t,n]=React.useReducer(objectReducer,void 0,e),o=React.useCallback(a=>{n({type:"change",changes:a})},[n]),r=React.useCallback(a=>{n({type:"replace",newObject:a})},[n]);return{object:t,change:o,replace:r}}function useInitialStateFromQuery(e){const t=useToast();React.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("s");if(o)try{e(importState(o))}catch(r){t({status:"error",title:"Could not load state from URL",description:r.toString()})}},[t,e])}function getInitialGradient(){return getRandomGradient(.1)}function getInitialCodegenConfig(){return u({},defaultConfig)}function getInitialGradientConfig(){return{interpolation:InterpolationType.Plain,interpolationPoints:10,colorspace:"srgb"}}function App(){const e=useArrayOfObjects(getInitialGradient),t=useObject(getInitialCodegenConfig),n=useObject(getInitialGradientConfig);return useInitialStateFromQuery(e.replace),React.createElement("div",{className:tw`container mx-auto`},React.createElement(ColorStopsAPIContext.Provider,{value:e},React.createElement(CodegenConfigContext.Provider,{value:t},React.createElement(GradientConfigContext.Provider,{value:n},React.createElement(MainToolbar,null),React.createElement(MainAccordion,null)))))}var style="";setup({preflight:!0,mode:"warn"});ReactDOM.render(React.createElement(React.StrictMode,null,React.createElement(App,null)),document.getElementById("root"));

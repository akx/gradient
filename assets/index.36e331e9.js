var P=Object.defineProperty,k=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var I=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))F.call(t,n)&&I(e,n,t[n]);if(A)for(var n of A(t))G.call(t,n)&&I(e,n,t[n]);return e},R=(e,t)=>k(e,T(t));import{R as React,l as lodash,c as converter,s as standalone,p as parser,m as minify,u as useEvent,F as FormControl,a as FormLabel,b as Flex,S as Slider,d as SliderTrack,e as SliderFilledTrack,f as SliderThumb,N as NumberInput,g as NumberInputField,h as FormHelperText,B as Box,G as Grid,I as Input,D as Divider,i as ButtonGroup,j as Button,k as NumberInputStepper,n as NumberIncrementStepper,o as NumberDecrementStepper,C as Checkbox,q as useDebounce,T as Textarea,r as arrayType,t as objectType,v as stringType,w as numberType,x as decode,y as encode,z as useToast,A as Tabs,E as TabList,H as Tab,J as TabPanels,K as TabPanel,L as RadioGroup,M as Stack,O as Radio,P as Accordion,Q as AccordionItem,U as AccordionPanel,V as AccordionButton,W as AccordionIcon,X as Modal,Y as ModalOverlay,Z as ModalContent,_ as ModalHeader,$ as ModalCloseButton,a0 as ModalBody,a1 as Link,a2 as useDisclosure,a3 as Spacer,a4 as Container,a5 as ReactDOM,a6 as ChakraProvider}from"./vendor.558d67cd.js";const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}};p();var InterpolationType;(function(e){e.Plain="Plain",e.Linear="Linear",e.CatmullRom="CatmullRom"})(InterpolationType||(InterpolationType={}));function aooReducer(e,t){switch(t.type){case"replace":return[...t.newObjects];case"add":return e.concat([t.value]);case"changePartial":return e.map(n=>n.id!==t.id?n:d(d({},n),t.changes));case"change":return e.map(n=>n.id!==t.value.id?n:t.value);case"delete":return e.filter(n=>n.id!==t.id)}return e}function useArrayOfObjects(e){const[t,n]=React.useReducer(aooReducer,void 0,e),[o,a]=React.useState(null),r=React.useCallback(u=>{n({type:"add",value:u})},[n]),c=React.useCallback(u=>{n({type:"change",value:u})},[n]),l=React.useCallback((u,s)=>{n({type:"changePartial",id:u,changes:s})},[n]),i=React.useCallback(u=>{n({type:"delete",id:u})},[n]),g=React.useCallback(u=>{n({type:"replace",newObjects:u})},[n]);return{objects:t,selectedId:o,change:c,changePartial:l,add:r,delete:i,select:a,replace:g}}const ColorStopsAPIContext=React.createContext({});function useColorStopsAPI(){return React.useContext(ColorStopsAPIContext)}var background="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAADFBMVEWIiIjd3d3y8vLm5uZzdc63AAAAbklEQVR42u3ZIQ4AIAwDwI39/8/wAlTFxFUgm5ALmFZV51Iv52Vyx/7CzhdONr3/ylCgQIECBQoUKFCgQIECBQoUKFCgQIECBcrmccGe4qX4vqBAgQIFChQoUKBAgQIFChQoUKBAgQIFij3lX3gBXBBzc8FaGvIAAAAASUVORK5CYII=",noisyBackground="/assets/nois.89278c6a.gif";const CodegenConfigContext=React.createContext({});function useCodegenConfig(){return React.useContext(CodegenConfigContext)}const defaultConfig={includeAlpha:!0,positionPrecision:3,valuePrecision:4},defaultJsConfig=R(d({},defaultConfig),{arrowFunction:!1});function formatNumber(e,t){return e===Math.round(e)?e.toFixed(0):e.toFixed(t)}const positionGetter=({position:e})=>e;function sortStops(e){return lodash.exports.sortedUniqBy(lodash.exports.sortBy(e,positionGetter),positionGetter)}function reverseColorStops(e){return sortStops(e.map(t=>R(d({},t),{position:1-t.position})))}function gammaToLinear(e){return e<=.0404482362771082?e/12.92:Math.pow((e+.055)/1.055,2.4)}function linearToGamma(e){return e<=.00313066844250063?e*12.92:1.055*Math.pow(e,1/2.4)-.055}const linearRgbConverter={id:"linearRgb",name:"Linear RGB",fromColor:e=>[e.r,e.g,e.b].map(gammaToLinear).concat([e.a]),toColor:([e,t,n,o])=>({r:linearToGamma(e),g:linearToGamma(t),b:linearToGamma(n),a:o})},srgbConverter={id:"srgb",name:"sRGB (identity)",fromColor:e=>[e.r,e.g,e.b,e.a],toColor:([e,t,n,o])=>({r:e,g:t,b:n,a:o})},rgbConverter=converter("rgb");function getRgbWithCulori(e){const t=rgbConverter(e);return{r:t.r,g:t.g,b:t.b,a:t.alpha||e.alpha||1}}const culoriOklab=converter("oklab"),oklabConverter={id:"oklab",name:"Oklab",fromColor:e=>{const{l:t,a:n,b:o,alpha:a}=culoriOklab(d({mode:"rgb"},e));return[t,n,o,a||e.a]},toColor:([e,t,n,o])=>getRgbWithCulori({mode:"oklab",l:e,a:t,b:n,alpha:o})},culoriHsl=converter("hsl"),hslConverter={id:"hsl",name:"HSL [buggy]",fromColor:e=>{const{h:t,s:n,l:o,alpha:a}=culoriHsl(d({mode:"rgb"},e));return[t||0,n,o,a||e.a]},toColor:([e,t,n,o])=>getRgbWithCulori({mode:"hsl",h:e,s:t,l:n,alpha:o})},culoriXyz=converter("xyz50"),xyzConverter={id:"xyz50",name:"XYZ50",fromColor:e=>{const{x:t,y:n,z:o,alpha:a}=culoriXyz(d({mode:"rgb"},e));return[t,n,o,a||e.a]},toColor:([e,t,n,o])=>getRgbWithCulori({mode:"xyz50",x:e,y:t,z:n,alpha:o})},converters=[srgbConverter,linearRgbConverter,oklabConverter,hslConverter,xyzConverter];function init(e,t,n,o){const a=e,r=n,c=-3*e+3*t-2*n-o,l=2*e-2*t+n+o;return[a,r,c,l]}function zero(){return[0,0,0,0]}function initCatmullRom(e,t,n,o,a){return init(t,n,a*(n-e),a*(o-t))}function initNonuniformCatmullRom(e,t,n,o,a,r,c){let l=(t-e)/a-(n-e)/(a+r)+(n-t)/r,i=(n-t)/r-(o-t)/(r+c)+(o-n)/c;return l*=r,i*=r,init(t,n,l,i)}function calc([e,t,n,o],a){const r=a*a,c=r*a;return e+t*a+n*r+o*c}function sub(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4]]}function add(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4]]}function distanceToSquared(e,t){const[n,o,a,r,c]=sub(e,t);return n*n+o*o+a*a+r*r+c*c}function compute5DCatmullRomPoints(e,t,n=!1,o="centripetal",a=.5){const r=[],c=[zero(),zero(),zero(),zero(),zero()],l=e.length;for(let i=0;i<t;i++){const g=i/(t-1),u=(l-(n?0:1))*g;let s=Math.floor(u),m=u-s;n?s+=s>0?0:(Math.floor(Math.abs(s)/l)+1)*l:m===0&&s===l-1&&(s=l-2,m=1);let f,b;n||s>0?f=e[(s-1)%l]:f=add(sub(e[0],e[1]),e[0]);const S=e[s%l],x=e[(s+1)%l];if(n||s+2<l?b=e[(s+2)%l]:b=add(sub(e[l-1],e[l-2]),e[l-1]),o==="centripetal"||o==="chordal"){const C=o==="chordal"?.5:.25;let v=Math.pow(distanceToSquared(f,S),C),E=Math.pow(distanceToSquared(S,x),C),y=Math.pow(distanceToSquared(x,b),C);E<1e-4&&(E=1),v<1e-4&&(v=E),y<1e-4&&(y=E);for(let h=0;h<5;h++)c[h]=initNonuniformCatmullRom(f[h],S[h],x[h],b[h],v,E,y)}else if(o==="catmullrom")for(let C=0;C<5;C++)c[C]=initCatmullRom(f[C],S[C],x[C],b[C],a);r.push([calc(c[0],m),calc(c[1],m),calc(c[2],m),calc(c[3],m),calc(c[4],m)])}return r}function toCssRgba(e){const t=Math.round(e.r*255),n=Math.round(e.g*255),o=Math.round(e.b*255),a=formatNumber(e.a*100,2);return`rgba(${t}, ${n}, ${o}, ${a}%)`}function toCssRgb(e){const t=Math.round(e.r*255),n=Math.round(e.g*255),o=Math.round(e.b*255);return`rgb(${t}, ${n}, ${o})`}function invertColor(e){return{r:1-e.r,g:1-e.g,b:1-e.b,a:e.a}}function modifyHSL(e,t){const n=converter("hsl")(d({mode:"rgb"},e));Object.assign(n,t);const o=converter("rgb")(n);return R(d({},e),{r:o.r,g:o.g,b:o.b})}function clamp(e,t=0,n=1){return Number.isNaN(e)?t:Math.max(t,Math.min(n,e))}function hexToColor(e,t=1){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{a:t,r:parseInt(n[1],16)/255,g:parseInt(n[2],16)/255,b:parseInt(n[3],16)/255}:null}function colorToHex(e){const t=n=>Math.round(n*255).toString(16).padStart(2,"0").toUpperCase();return`#${t(e.r)}${t(e.g)}${t(e.b)}`}function findStops(e,t){const n=0,o=e[n],a=e.length-1,r=e[a];if(e.length>1){if(t<o)return[n,n];if(t>r)return[a,a];for(let c=n;c<a;c++)if(e[c]<=t&&t<=e[c+1])return[c,c+1]}return[n,a]}function interpolate(e,t,n){if(e.length===0)return null;const[o,a]=findStops(e,n),r=e[o],l=e[a]-r,i=(n-r)/(l===0?1:l),g=1-i,u=t[o],s=t[a];return u.map((m,f)=>m*g+s[f]*i)}function sample(e,t){const n=sortStops(e),o=n.map(u=>u.position),a=n.map(({color:{a:u,b:s,g:m,r:f}})=>[f,m,s,u]),r=interpolate(o,a,t);if(!r)return null;const[c,l,i,g]=r;return{r:c,g:l,b:i,a:g}}function computeLinearInterpolation(e,{interpolationPoints:t}){const n=[],o=[],a=[];e.forEach(([r,...c])=>{n.push(r),o.push(c)});for(let r=0;r<t;r++){const c=r/(t-1),l=interpolate(n,o,c);l&&a.push([c,...l])}return a}function applyInterpolation(e,t){switch(t.interpolation){case InterpolationType.CatmullRom:return compute5DCatmullRomPoints(e.map(([n,o,a,r,c])=>[n,o,a,r,c]),t.interpolationPoints);case InterpolationType.Linear:return computeLinearInterpolation(e,t);default:return e}}function mangleGradient(e,t){e=sortStops(e);const n=converters.find(c=>c.id===t.colorspace)||srgbConverter,o=e.map(({color:c,position:l})=>[l].concat(n.fromColor(c))),r=applyInterpolation(o,t).map(([c,...l],i)=>({id:`x${i}`,position:clamp(c),color:n.toColor(l)}));return sortStops(r)}function formatColorReturn({r:e,g:t,b:n,a:o},a,r){const c=formatNumber(e,r),l=formatNumber(t,r),i=formatNumber(n,r);if(a){const g=formatNumber(o,r);return`[${c},${l},${i},${g}]`}return`[${c},${l},${i}]`}function formatABMultiplication(e,t,n){return e===0?"0":e===1?n:`${formatNumber(e,t)} * ${n}`}function formatLerpComponent(e,t,n){if(Math.abs(e-t)<.001)return formatNumber(e,n);const o=formatABMultiplication(e,n,"b"),a=formatABMultiplication(t,n,"a");return e===0?a:t===0?o:`${o} + ${a}`}function formatCode(e){return standalone.exports.format(e,{parser:parser.parsers.babel.parse,printWidth:120})}function writeJSBody(e,t,n){for(let o=0;o<t.length;o++){const a=t[o],r=o<t.length-1?t[o+1]:null,c=formatColorReturn(a.color,n.includeAlpha,n.valuePrecision),l=parseFloat(formatNumber(a.position,n.positionPrecision)),i=formatNumber(l,n.positionPrecision);if(o===t.length-1?e(`return ${c};`):o===0&&l>0&&e(`if(position <= ${i}) return ${c};`),r){const g=parseFloat(formatNumber(r.position,n.positionPrecision));e(`if(position < ${formatNumber(g,n.positionPrecision)})`),e("{");const u=g-l,s=formatNumber(1/u,n.positionPrecision);e(l===0?`const a = position * ${s}, b = 1 - a;`:`const a = (position - ${i}) * ${s}, b = 1 - a;`);const m=[formatLerpComponent(a.color.r,r.color.r,n.valuePrecision),formatLerpComponent(a.color.g,r.color.g,n.valuePrecision),formatLerpComponent(a.color.b,r.color.b,n.valuePrecision)];n.includeAlpha&&m.push(formatLerpComponent(a.color.a,r.color.a,n.valuePrecision)),e(`return [${m.join(",")}];`),e("}")}}}function generateRawCode(e,t,n){const o=mangleGradient(e,t),a=[],r=a.push.bind(a);return n.arrowFunction?r("(position) => {"):r("function getColor(position) {"),o.length?writeJSBody(r,o,n):r("return [0, 0, 0, 0]; /* No stops */"),r("}"),a.join("")}async function generateCode(e,t,n){const o=formatCode(generateRawCode(e,t,n)),r=(await minify(o,{mangle:!1})).code||"";return formatCode(r)}function renderGradient(ctx,stops,gradientConfig,jsCodegenConfig){if(ctx.canvas.width=0|ctx.canvas.width,stops.length===0)return;const imageData=new ImageData(ctx.canvas.width,4),code=generateRawCode(stops,gradientConfig,R(d({},jsCodegenConfig),{arrowFunction:!0})),getColor=eval(code),{width,height}=imageData;for(let e=0;e<width;e++){const t=e/(width-1),[n,o,a,r]=getColor(t),c=Math.round(n*255),l=Math.round(o*255),i=Math.round(a*255),g=Math.round((r===void 0?1:r)*255);for(let u=0;u<height;u++){const s=(u*width+e)*4;imageData.data[s]=c,imageData.data[s+1]=l,imageData.data[s+2]=i,imageData.data[s+3]=g}}ctx.putImageData(imageData,0,0),ctx.drawImage(ctx.canvas,0,0,width,2,0,0,width,ctx.canvas.height)}const GradientConfigContext=React.createContext({});function useGradientConfig(){return React.useContext(GradientConfigContext)}function GradientCanvas({colorStops:e}){const t=useCodegenConfig().object,n=useGradientConfig().object,o=React.useRef(null);React.useEffect(()=>{const r=o.current;if(!r)return;const c=r.getContext("2d");c&&renderGradient(c,e,n,d(d({},defaultJsConfig),t))},[e,t,n]);const a=e.length>0?{background:`url(${background})`}:{backgroundImage:`url(${noisyBackground})`,backgroundSize:"cover",backgroundPosition:"center center"};return React.createElement("canvas",{ref:o,width:1200,height:150,style:d({width:"100%"},a)})}function getX(e,t){const n=e.clientX,o=t.getBoundingClientRect(),a=o.left,r=o.width;return Math.min(1,Math.max(0,(n-a)/r))}function StopsSlider({colorStops:e,selectedStopId:t}){const n=useColorStopsAPI(),[o,a]=React.useState(null),r=React.useRef(null),c=React.useCallback(s=>{const m=s.target.dataset.stopid;m&&(a(m),n.select(m))},[n]),l=React.useCallback(()=>{a(null)},[]),i=React.useCallback(s=>{const m=r.current;if(!(o&&m))return;const f=getX(s,m);n.changePartial(o,{position:f})},[o,n]);useEvent("mouseup",o?l:null,window,{capture:!0}),useEvent("mousemove",o?i:null,window,{capture:!0});const g=React.useCallback(s=>{const m=s.target.dataset.stopid;m&&(n.select(m),s.stopPropagation(),s.preventDefault())},[n]),u=React.useCallback(s=>{if(s.target===r.current){const m=getX(s,r.current),f=sample(e,m)||{r:1,g:0,b:1,a:1},b=Math.random().toString(32);n.add({id:b,position:m,color:f}),n.select(b)}},[n,e]);return React.createElement("div",{style:{position:"relative",height:"1em",background:"cornsilk",userSelect:"none"},onMouseDown:c,onClick:g,onDoubleClick:u,ref:r},e.map(s=>React.createElement("div",{key:s.id,"data-stopid":s.id,style:{position:"absolute",left:`${s.position*100}%`,transform:"translateX(-50%) translateY(-5px)",background:toCssRgba(s.color),color:toCssRgb(invertColor(s.color)),cursor:"move",userSelect:"none",width:"5ch",textAlign:"center",border:"1px solid black",borderRadius:"3px",borderColor:t===s.id?"black":"transparent",fontSize:"8pt"}},(s.position*100).toFixed(0),"%")))}function ColorComponentSlider({onChange:e,label:t,value:n,colorScheme:o,eventKey:a,min:r,max:c,formatHelp:l,trackColor:i}){return React.createElement(FormControl,null,React.createElement(FormLabel,null,t),React.createElement(Flex,null,React.createElement(Slider,{flex:1,mr:"1rem",colorScheme:o,value:n,step:0,onChange:g=>e(a,g),min:r,max:c,focusThumbOnChange:!1},React.createElement(SliderTrack,null,React.createElement(SliderFilledTrack,{bg:i})),React.createElement(SliderThumb,null)),React.createElement(NumberInput,{maxW:"4rem",size:"xs",min:r,max:c,value:n,onChange:(g,u)=>e(a,u)},React.createElement(NumberInputField,null))),l?React.createElement(FormHelperText,null,l(n)):null)}var ColorComponentSlider$1=React.memo(ColorComponentSlider);const formatComponentHelp=e=>{const t=Math.round(e*255);return React.createElement(React.Fragment,null,e.toFixed(5)," (",t,")")};function StopEditor({stop:e}){const t=useColorStopsAPI(),n=React.useCallback((r,c)=>{const l=d({},e),{color:i}=l;switch(r){case"red":l.color=R(d({},i),{r:clamp(c)});break;case"green":l.color=R(d({},i),{g:clamp(c)});break;case"blue":l.color=R(d({},i),{b:clamp(c)});break;case"alpha":l.color=R(d({},i),{a:clamp(c)});break;case"hue":l.color=modifyHSL(i,{h:c});break;case"saturation":l.color=modifyHSL(i,{s:clamp(c)});break;case"lightness":l.color=modifyHSL(i,{l:clamp(c)});break}t.change(l)},[t,e]),o=converter("hsl")(d({mode:"rgb"},e.color)),a=React.useCallback(r=>{const c=hexToColor(r.target.value,e.color.a);c&&t.change(R(d({},e),{color:c}))},[t,e]);return React.createElement(Box,{borderWidth:"1px",borderRadius:"lg",p:6},React.createElement(FormControl,null,React.createElement(FormLabel,null,"Position"),React.createElement(Flex,null,React.createElement(Slider,{mr:"1rem",flex:1,value:e.position,step:0,min:0,max:1,onChange:r=>t.changePartial(e.id,{position:clamp(r)}),focusThumbOnChange:!1},React.createElement(SliderTrack,null),React.createElement(SliderThumb,null)),React.createElement(NumberInput,{maxW:"5rem",size:"xs",min:0,max:1,value:e.position,precision:4,onChange:(r,c)=>t.changePartial(e.id,{position:clamp(c)})},React.createElement(NumberInputField,null)))),React.createElement(Grid,{templateColumns:"repeat(4, 1fr)",gap:6},React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Red",eventKey:"red",onChange:n,value:e.color.r,min:0,max:1,colorScheme:"red",formatHelp:formatComponentHelp})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Green",eventKey:"green",onChange:n,value:e.color.g,min:0,max:1,colorScheme:"green",formatHelp:formatComponentHelp})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Blue",eventKey:"blue",onChange:n,value:e.color.b,min:0,max:1,colorScheme:"blue",formatHelp:formatComponentHelp})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Alpha",eventKey:"alpha",onChange:n,value:e.color.a,min:0,max:1,colorScheme:"blackAlpha",formatHelp:formatComponentHelp}))),React.createElement(Grid,{templateColumns:"repeat(3, 1fr)",gap:6},React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Hue",eventKey:"hue",onChange:n,value:o.h||0,min:0,max:360,trackColor:`hsl(${(o.h||0).toFixed(1)}deg, 100%, 50%)`})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Saturation",eventKey:"saturation",onChange:n,value:o.s,min:0,max:1,trackColor:`hsl(${(o.h||0).toFixed(1)}deg, ${(o.s*100).toFixed(1)}%, 50%)`})),React.createElement(Box,null,React.createElement(ColorComponentSlider$1,{label:"Lightness",eventKey:"lightness",onChange:n,value:o.l,min:0,max:1,trackColor:`hsl(0deg, 0%, ${(o.l*100).toFixed(1)}%)`}))),React.createElement(Grid,{templateColumns:"repeat(3, 1fr)",gap:6},React.createElement(Box,null,React.createElement(FormLabel,null,"Hex value"),React.createElement(Input,{maxW:"5rem",size:"xs",value:colorToHex(e.color),onChange:a}))),React.createElement(Divider,{py:4}),React.createElement(ButtonGroup,{pt:4,spacing:"6"},React.createElement(Button,{colorScheme:"red",onClick:()=>t.delete(e.id)},"Delete stop")))}function CodegenSettings(){const e=useCodegenConfig(),t=e.object;return React.createElement(Grid,{templateRows:"repeat(3, 1fr)",gap:6},React.createElement(FormControl,null,React.createElement(FormLabel,null,"Value precision"),React.createElement(NumberInput,{value:t.valuePrecision,min:0,step:1,onChange:(n,o)=>e.change({valuePrecision:clamp(o,0,10)})},React.createElement(NumberInputField,null),React.createElement(NumberInputStepper,null,React.createElement(NumberIncrementStepper,null),React.createElement(NumberDecrementStepper,null)))),React.createElement(FormControl,null,React.createElement(FormLabel,null,"Position precision"),React.createElement(NumberInput,{value:t.positionPrecision,min:1,step:1,onChange:(n,o)=>e.change({positionPrecision:clamp(o,0,10)})},React.createElement(NumberInputField,null),React.createElement(NumberInputStepper,null,React.createElement(NumberIncrementStepper,null),React.createElement(NumberDecrementStepper,null)))),React.createElement(FormControl,null,React.createElement(Checkbox,{isChecked:t.includeAlpha,onChange:n=>e.change({includeAlpha:n.target.checked})},"Include alpha")))}function GradientJSCodePanel(){const e=useColorStopsAPI(),t=useGradientConfig(),n=useCodegenConfig(),{objects:o}=e,{object:a}=n,{object:r}=t,[c,l]=React.useState("");return useDebounce(()=>{generateCode(o,r,d(d({},defaultJsConfig),a)).then(l)},100,[r,a,o]),React.createElement(Flex,null,React.createElement(Textarea,{readOnly:!0,value:c,rows:15,mt:2}),React.createElement(Box,{minW:"15em",ml:4},React.createElement(CodegenSettings,null)))}function generateCssGradientStops(e,t,n){const o=mangleGradient(e,t),a=n.includeAlpha&&o.some(c=>c.color.a!==1),r=[];for(let c=0;c<o.length;c++){const l=o[c],i=a?toCssRgba(l.color):toCssRgb(l.color),g=formatNumber(l.position*100,clamp(n.positionPrecision-2,0,10));r.push(`${i} ${g}%`)}return r.join(", ")}function GradientCSSCode(){const e=useColorStopsAPI(),t=useGradientConfig(),n=useCodegenConfig(),{objects:o}=e,a=generateCssGradientStops(o,t.object,n.object);return React.createElement(Flex,null,React.createElement(Textarea,{readOnly:!0,value:a,rows:5,style:{background:`linear-gradient(to right, ${a})`}}),React.createElement(Box,{minW:"15em",ml:4},React.createElement(CodegenSettings,null)))}function generateSVGGradient(e,t,n){return['<linearGradient x1="0%" y1="0%" x2="100%" y2="0%">',generateSVGGradientStops(e,t,n),"</linearGradient>"].join(`
`)}function generateSVGGradientStops(e,t,n){const o=mangleGradient(e,t),a=n.includeAlpha&&o.some(c=>c.color.a!==1),r=[];for(let c=0;c<o.length;c++){const l=o[c],i=a?toCssRgba(l.color):toCssRgb(l.color),g=formatNumber(l.position*100,clamp(n.positionPrecision-2,0,10));r.push(`    <stop offset="${g}%" stop-color="${i}" />`)}return r.join(`
`)}function GradientSVGCodePanel(){const e=useColorStopsAPI(),t=useGradientConfig(),n=useCodegenConfig(),{objects:o}=e,a=generateSVGGradient(o,t.object,n.object);return React.createElement(Flex,null,React.createElement(Textarea,{readOnly:!0,value:a,rows:15,mt:2}),React.createElement(Box,{minW:"15em",ml:4},React.createElement(CodegenSettings,null)))}const stateSchema=arrayType(objectType({id:stringType().optional(),position:numberType(),color:objectType({r:numberType(),g:numberType(),b:numberType(),a:numberType()}).partial()}));function exportJSON(e){return JSON.stringify(sortStops(e).map(t=>{const n=d({},t);return delete n.id,n}),null,2)}function importJSON(e){if(!Array.isArray(e))throw new Error("not an array");return stateSchema.parse(e).map((n,o)=>({id:n.id||`${o}`,position:n.position,color:d({r:0,g:0,b:0,a:1},n.color)}))}function base64ToURLSafe(e){return e.replace(/\+/g,"_").replace(/\//g,"-").replace(/=+$/,"")}function decodeURLSafeBase64ToArrayBuffer(e){return decode(e.replace(/_/g,"+").replace(/-/g,"/"))}function getBytesPerStop(e){return e===2?6:5}function exportCompressed(e){const t=e.some(c=>c.color.a!==1),n=t?2:1,o=getBytesPerStop(n),a=new ArrayBuffer(1+o*e.length),r=new DataView(a);return r.setUint8(0,n),e.forEach((c,l)=>{const i=1+l*o;r.setUint16(i,clamp(c.position)*65535,!0),r.setUint8(i+2,clamp(c.color.r)*255),r.setUint8(i+3,clamp(c.color.g)*255),r.setUint8(i+4,clamp(c.color.b)*255),t&&r.setUint8(i+5,clamp(c.color.a)*255)}),base64ToURLSafe(encode(a))}function importCompressed(e){const t=decodeURLSafeBase64ToArrayBuffer(e),n=new DataView(t),o=n.getUint8(0);if(o<1||o>2)throw new Error(`invalid version ${o}`);const a=getBytesPerStop(o),r=(t.byteLength-1)/a,c=[];for(let l=0;l<r;l++){const i=1+l*a;c.push({id:l.toString(16),position:n.getUint16(i,!0)/65535,color:{r:n.getUint8(i+2)/255,g:n.getUint8(i+3)/255,b:n.getUint8(i+4)/255,a:o===2?n.getUint8(i+5)/255:1}})}return c}var ExportFormat;(function(e){e.JSON="json",e.Compressed="compressed"})(ExportFormat||(ExportFormat={}));function importState(e){return e.startsWith("[")||e.startsWith("{")?importJSON(JSON.parse(e)):importCompressed(e)}function exportInFormat(e,t){switch(t){case ExportFormat.Compressed:return exportCompressed(e);case ExportFormat.JSON:return exportJSON(e)}throw new Error}function ImportExportPanel({format:e,autoUpdate:t}){const n=useToast(),o=useColorStopsAPI(),{objects:a}=o,[r,c]=React.useState(""),l=React.useCallback(()=>{try{const u=importState(r);o.replace(u),n({status:"success",title:"Import successful"})}catch(u){n({status:"error",title:"Import failed",description:u.toString()})}},[o,r,n]),i=React.useCallback(()=>{c(exportInFormat(a,e))},[a,e]),g=React.useCallback(async()=>{const u=exportInFormat(a,e),s=new URL(window.location.href);s.search=new URLSearchParams([["s",u]]).toString();try{await navigator.clipboard.writeText(s.toString()),n({status:"success",title:"Link copied",description:s.toString()})}catch(m){n({status:"error",title:m.toString()})}},[a,e,n]);return React.useEffect(()=>{t&&i()},[a,t,i]),React.useEffect(()=>{i()},[i]),React.createElement(React.Fragment,null,React.createElement(Textarea,{value:r,onChange:u=>c(u.target.value),rows:e==="json"?15:3}),React.createElement(ButtonGroup,{pt:4,spacing:"6"},t?null:React.createElement(Button,{onClick:i},"Export current state"),React.createElement(Button,{onClick:l},"Load state"),e==="compressed"?React.createElement(Button,{onClick:g},"Copy link"):null))}function GradientCode(){return React.createElement(Tabs,{flex:1,isLazy:!0},React.createElement(TabList,null,React.createElement(Tab,null,"JavaScript"),React.createElement(Tab,null,"CSS"),React.createElement(Tab,null,"SVG"),React.createElement(Tab,null,"JSON (import/export)"),React.createElement(Tab,null,"Compressed (import/export)")),React.createElement(TabPanels,null,React.createElement(TabPanel,null,React.createElement(GradientJSCodePanel,null)),React.createElement(TabPanel,null,React.createElement(GradientCSSCode,null)),React.createElement(TabPanel,null,React.createElement(GradientSVGCodePanel,null)),React.createElement(TabPanel,null,React.createElement(ImportExportPanel,{format:ExportFormat.JSON})),React.createElement(TabPanel,null,React.createElement(ImportExportPanel,{format:ExportFormat.Compressed,autoUpdate:!0}))))}function GradientConfigPanel(){var o,a;const e=useGradientConfig(),t=e.object,n=(a=(o=converters.find(r=>r.id===t.colorspace))==null?void 0:o.name)!=null?a:"???";return React.createElement(Grid,{templateColumns:"repeat(3, 1fr)",gap:6},React.createElement(FormControl,null,React.createElement(FormLabel,null,"Color Space"),React.createElement(RadioGroup,{isDisabled:t.interpolation===InterpolationType.Plain,onChange:r=>e.change({colorspace:r.toString()}),value:t.colorspace},React.createElement(Stack,{direction:"column"},converters.map(r=>React.createElement(Radio,{key:r.id,value:r.id},r.name))))),React.createElement(FormControl,null,React.createElement(FormLabel,null,"Interpolation"),React.createElement(RadioGroup,{onChange:r=>e.change({interpolation:r}),value:t.interpolation},React.createElement(Stack,{direction:"column"},React.createElement(Radio,{value:InterpolationType.Plain},"Plain (Linear)"),React.createElement(Radio,{value:InterpolationType.Linear},"Linear in ",n),React.createElement(Radio,{value:InterpolationType.CatmullRom},"Catmull-Rom 5D in ",n)))),React.createElement(FormControl,{isDisabled:t.interpolation===InterpolationType.Plain},React.createElement(FormLabel,null,"Interpolation points"),React.createElement(NumberInput,{isDisabled:t.interpolation===InterpolationType.Plain,value:t.interpolationPoints,min:2,step:1,onChange:(r,c)=>e.change({interpolationPoints:clamp(c,2,100)})},React.createElement(NumberInputField,null),React.createElement(NumberInputStepper,null,React.createElement(NumberIncrementStepper,null),React.createElement(NumberDecrementStepper,null)))))}const AccordionHeader=({children:e})=>React.createElement("h2",null,React.createElement(AccordionButton,null,React.createElement(Box,{flex:"1",textAlign:"left"},e),React.createElement(AccordionIcon,null)));function MainAccordion(){const{objects:e,selectedId:t}=useColorStopsAPI(),n=e.find(o=>o.id===t);return React.createElement(Accordion,{defaultIndex:[0,1,2],allowMultiple:!0,reduceMotion:!0},React.createElement(AccordionItem,null,React.createElement(AccordionHeader,null,"Editor"),React.createElement(AccordionPanel,{pb:4},React.createElement(GradientCanvas,{colorStops:e}),React.createElement(StopsSlider,{colorStops:e,selectedStopId:t}),n?React.createElement(StopEditor,{stop:n}):null)),React.createElement(AccordionItem,null,React.createElement(AccordionHeader,null,"Configuration"),React.createElement(AccordionPanel,{pb:4},React.createElement(GradientConfigPanel,null))),React.createElement(AccordionItem,null,React.createElement(AccordionHeader,null,"Code"),React.createElement(AccordionPanel,{pb:4},React.createElement(GradientCode,null))))}function HelpContent(){return React.createElement("ul",null,React.createElement("li",null,"Double-click on the stop slider to add new stops"),React.createElement("li",null,"Stops can be dragged on the slider too"),React.createElement("li",null,React.createElement(Link,{color:"teal.500",isExternal:!0,href:"https://github.com/akx/gradient"},"Open source")))}function HelpModal({onClose:e,open:t}){return React.createElement(Modal,{isOpen:t,onClose:e},React.createElement(ModalOverlay,null),React.createElement(ModalContent,null,React.createElement(ModalHeader,null,"Help"),React.createElement(ModalCloseButton,null),React.createElement(ModalBody,null,React.createElement(Box,{p:4},React.createElement(HelpContent,null)))))}const palettes=[[[188,137,43],[120,205,208],[181,177,216]],[[166,161,89],[0,180,155],[0,91,141],[185,132,175]],[[216,163,123],[80,19,69],[161,163,154]],[[181,147,146],[226,181,64],[0,110,184]],[[183,31,87],[216,163,123],[163,106,165]],[[255,239,174],[238,167,140],[85,88,50]],[[243,162,87],[248,237,67],[98,198,191]],[[248,237,67],[0,151,141],[0,148,101],[188,228,229]],[[218,82,93],[197,159,107],[150,209,170],[185,132,175]],[[193,159,44],[113,80,47],[84,112,118]],[[243,162,87],[37,49,34],[182,191,193]],[[244,128,103],[131,126,49],[150,209,170]],[[253,212,189],[131,126,49],[175,212,114],[0,113,144]],[[253,212,189],[178,183,62],[180,205,194]],[[209,176,167],[0,147,165],[64,69,106]],[[197,83,71],[121,51,39],[165,200,209]],[[226,181,64],[249,157,27],[193,107,39]],[[204,18,54],[255,242,0],[26,116,68],[17,19,20]],[[128,38,38],[226,181,64],[166,161,89]],[[253,197,126],[178,183,62],[118,44,25],[17,19,20]],[[128,38,38],[238,180,128],[131,126,49],[0,113,144]],[[248,182,186],[221,64,39],[183,194,169],[0,147,165]],[[188,137,43],[99,90,58],[26,116,68]],[[235,211,162],[249,157,27],[151,172,200]],[[244,128,103],[181,222,204],[150,209,170]],[[174,82,36],[235,211,162],[99,90,58],[6,79,110]],[[244,128,103],[251,230,160],[17,47,44]],[[168,66,34],[246,140,80],[75,51,23],[0,144,138]],[[238,180,128],[193,196,148],[100,80,161]],[[128,38,38],[249,157,27],[180,205,194]],[[181,222,204],[150,209,170],[52,69,76]],[[181,147,146],[245,236,194],[37,49,34],[151,172,200]],[[181,147,146],[216,163,123],[181,222,204]],[[235,83,36],[113,148,112],[0,79,70]],[[243,127,148],[253,212,189],[175,212,114],[17,19,20]],[[193,196,148],[67,119,66],[37,49,34],[80,19,69]],[[248,237,67],[118,44,25],[181,222,204]],[[174,82,36],[252,179,21],[0,147,155],[64,69,106]],[[243,162,87],[246,140,80],[64,69,106],[6,79,110]],[[151,172,200],[5,18,48],[182,191,193]],[[253,191,104],[249,157,27],[0,151,141],[0,110,184]],[[112,114,124],[140,76,98],[89,37,106]],[[187,113,37],[235,211,162],[107,113,64],[52,69,76]],[[243,127,148],[154,114,170],[89,37,106]],[[202,179,86],[241,90,48],[0,180,155],[188,228,229]],[[242,114,145],[84,112,118],[122,68,86]],[[183,31,87],[150,209,170],[9,145,151],[17,47,44]],[[163,103,82],[180,205,194],[17,19,20]],[[174,82,36],[249,157,27],[107,113,64],[64,69,106]],[[0,91,141],[192,169,179],[163,106,165]],[[248,182,186],[98,198,191],[154,114,170]],[[181,147,146],[174,82,36],[241,90,48],[181,222,204]],[[249,193,206],[253,212,189],[120,205,208]],[[187,113,37],[255,221,0],[0,151,141],[28,66,134]],[[128,38,38],[238,167,140],[79,64,134]],[[214,180,62],[243,116,32],[17,47,44]],[[199,209,79],[0,180,155],[150,209,170],[120,205,208]],[[245,236,194],[241,90,48],[175,212,114],[135,197,64]],[[224,179,182],[121,51,39],[90,130,179]],[[166,44,55],[255,239,174],[182,191,193]],[[218,82,93],[187,113,37],[193,159,44],[9,145,151]],[[174,82,36],[238,180,128],[181,222,204],[52,69,76]],[[121,51,39],[194,174,147],[214,180,62],[84,112,118]],[[253,191,104],[194,174,147],[188,228,229],[0,113,144]],[[187,113,37],[217,102,41],[0,147,155]],[[171,36,57],[152,111,45],[151,172,200]],[[171,84,77],[128,38,38],[113,148,112],[98,198,191]],[[246,140,80],[166,161,89],[5,18,48]],[[245,142,132],[245,236,194],[129,146,56],[165,200,209]],[[248,237,67],[37,49,34],[98,198,191]],[[130,36,31],[249,157,27],[79,64,134],[52,69,76]],[[238,167,140],[255,221,0],[167,212,228]],[[124,66,38],[216,163,123],[85,88,50]],[[166,44,55],[252,179,21],[0,79,70],[192,169,179]],[[226,98,94],[255,221,0],[0,180,155],[0,79,70]],[[121,51,39],[216,163,123],[0,110,184]],[[174,82,36],[248,237,67],[150,209,170],[0,110,184]],[[187,113,37],[181,222,204],[112,147,144],[72,155,110]],[[243,127,148],[252,179,21],[178,183,62]],[[221,64,39],[252,179,21],[79,64,134]],[[187,113,37],[255,221,0],[249,157,27],[67,119,66]],[[166,44,55],[193,196,148],[113,148,112]],[[130,36,31],[176,159,54],[0,180,155]],[[242,114,145],[183,63,116],[131,126,49],[30,14,63]],[[204,18,54],[253,191,104],[0,151,141]],[[241,90,48],[0,180,155],[182,191,193],[17,19,20]],[[245,236,194],[67,119,66],[151,172,200]],[[235,83,36],[72,155,110],[17,19,20]],[[128,38,38],[216,163,123],[26,116,68]],[[218,82,93],[251,230,160],[226,181,64],[17,47,44]],[[174,82,36],[255,221,0],[72,155,110]],[[253,191,104],[192,169,179],[80,19,69],[52,69,76]],[[243,127,148],[121,51,39],[255,239,174],[66,83,62]],[[253,197,126],[28,66,134],[163,106,165],[17,19,20]],[[235,211,162],[226,181,64],[28,66,134]],[[174,82,36],[249,157,27],[112,147,144],[0,91,141]],[[253,197,126],[113,80,47],[167,212,228]],[[244,128,103],[67,119,66],[37,49,34],[165,200,209]],[[188,137,43],[28,66,134],[132,86,91]],[[245,236,194],[238,180,128],[131,126,49],[37,49,34]],[[255,239,174],[0,151,141],[150,209,170],[0,113,144]],[[171,84,77],[128,110,75],[28,66,134]],[[248,182,186],[243,162,87],[194,117,68]],[[166,44,55],[79,64,134],[80,19,69]],[[181,147,146],[202,179,86],[180,205,194]],[[0,110,184],[185,132,175],[161,163,154]],[[243,127,148],[102,98,156],[182,191,193]],[[183,63,116],[194,117,68],[165,200,209]],[[197,60,105],[238,167,140],[129,146,56],[0,113,144]],[[187,113,37],[238,167,140],[194,174,147],[18,53,78]],[[235,211,162],[249,157,27],[192,169,179]],[[249,157,27],[100,75,30],[122,68,86],[17,19,20]],[[245,236,194],[243,162,87],[176,159,54]],[[204,18,54],[238,180,128],[5,18,48]],[[243,127,148],[174,82,36],[26,116,68],[17,19,20]],[[245,142,132],[203,47,67],[37,49,34],[0,79,70]],[[221,64,39],[255,239,174],[197,165,110],[84,112,118]],[[248,237,67],[246,140,80],[80,19,69],[52,69,76]],[[209,176,167],[203,47,67],[217,102,41],[150,209,170]],[[204,18,54],[181,177,216],[163,106,165],[80,19,69]],[[187,113,37],[166,44,55],[79,64,134]],[[121,51,39],[253,191,104],[139,131,91],[0,151,141]],[[143,160,113],[151,172,200],[150,209,170]],[[221,64,39],[243,162,87],[28,66,134]],[[244,128,103],[245,236,194],[243,162,87],[191,88,146]],[[197,83,71],[253,197,126],[100,143,123]],[[166,44,55],[129,146,56],[18,53,78],[52,69,76]],[[178,183,62],[167,212,228],[100,80,161]],[[167,33,68],[255,242,0],[26,116,68],[52,69,76]],[[109,65,69],[253,191,104],[79,64,134]],[[109,65,69],[202,146,168],[113,59,76],[17,19,20]],[[218,82,93],[235,211,162],[176,159,54],[67,119,66]],[[255,239,174],[243,116,32],[181,222,204],[151,172,200]],[[187,113,37],[202,179,86],[120,205,208],[17,19,20]],[[245,236,194],[253,191,104],[67,119,66],[151,172,200]],[[224,179,182],[242,114,145],[109,65,69]],[[169,65,81],[193,159,44],[151,172,200]],[[212,109,122],[143,160,113],[185,132,175]],[[248,182,186],[245,236,194],[131,126,49],[202,146,168]],[[216,163,123],[217,102,41],[165,200,209],[64,69,106]],[[227,31,38],[252,179,21],[0,110,184],[163,106,165]],[[130,36,31],[0,148,101],[79,64,134],[89,37,106]],[[249,193,206],[125,19,58],[163,103,82],[182,191,193]],[[243,127,148],[202,179,86],[167,212,228],[120,205,208]],[[248,182,186],[192,169,179],[122,68,86]],[[167,33,68],[255,239,174],[120,205,208],[161,163,154]],[[244,128,103],[251,230,160],[0,144,138]],[[128,38,38],[150,135,77],[181,177,216]],[[248,237,67],[199,209,79],[64,69,106],[30,14,63]],[[242,114,145],[235,211,162],[132,128,97]],[[238,167,140],[243,116,32],[0,148,101],[17,19,20]],[[166,44,55],[182,191,193],[17,19,20]],[[227,31,38],[235,211,162],[143,160,113],[163,106,165]],[[243,162,87],[0,113,144],[52,69,76]],[[253,191,104],[255,242,0],[0,110,184],[30,14,63]],[[197,60,105],[30,14,63],[154,114,170],[79,64,134]],[[242,114,145],[255,239,174],[182,191,193]],[[193,196,148],[188,228,229],[151,172,200],[9,145,151]],[[214,180,62],[252,179,21],[0,147,165]],[[125,19,58],[214,180,62],[90,130,179]],[[253,191,104],[0,110,184],[191,88,146]],[[235,211,162],[165,200,209],[9,145,151]],[[241,90,48],[139,131,91],[90,130,179],[154,114,170]],[[171,36,57],[90,130,179],[163,106,165],[182,191,193]],[[171,36,57],[253,191,104],[183,194,169],[199,209,79]],[[243,127,148],[188,137,43],[181,177,216],[112,67,87]],[[235,211,162],[163,103,82],[79,64,134]],[[253,191,104],[75,51,23],[112,114,124]],[[194,174,147],[167,212,228],[6,79,110]],[[121,51,39],[188,228,229],[98,198,191],[100,80,161]],[[248,237,67],[194,117,68],[135,197,64]],[[197,83,71],[194,174,147],[118,44,25],[122,68,86]],[[253,197,126],[100,143,123],[102,98,156]],[[246,145,126],[255,242,0],[0,147,165]],[[251,230,160],[241,90,48],[37,49,34],[182,191,193]],[[255,221,0],[188,137,43],[151,172,200]],[[187,113,37],[128,38,38],[163,106,165],[17,19,20]],[[235,83,36],[0,151,141],[5,18,48]],[[235,211,162],[217,102,41],[17,19,20]],[[253,197,126],[154,114,170],[182,191,193]],[[245,236,194],[9,145,151],[0,113,144]],[[248,237,67],[6,79,110],[140,76,98]],[[128,110,75],[66,83,62],[0,79,70],[17,47,44]],[[244,128,103],[253,191,104],[181,222,204],[120,205,208]],[[245,236,194],[216,163,123],[113,80,47],[52,69,76]],[[187,113,37],[75,51,23],[5,18,48]],[[253,191,104],[214,180,62],[67,119,66],[0,79,70]],[[181,147,146],[197,97,39],[109,126,119],[0,113,144]],[[253,197,126],[248,237,67],[85,88,50]],[[183,63,116],[243,116,32],[17,19,20]],[[243,127,148],[121,51,39],[28,66,134],[78,29,76]],[[243,116,32],[175,212,114],[18,53,78]],[[238,180,128],[255,221,0],[178,183,62],[181,222,204]],[[183,63,116],[181,222,204],[199,209,79],[109,126,119]],[[218,82,93],[245,236,194],[107,113,64],[67,119,66]],[[204,18,54],[255,242,0],[0,110,184]],[[203,47,67],[0,148,101],[89,37,106]],[[248,182,186],[253,191,104],[152,111,45],[37,49,34]],[[181,147,146],[187,113,37],[37,49,34],[188,228,229]],[[183,63,116],[252,179,21],[89,37,106]],[[248,182,186],[168,66,34],[245,236,194],[253,197,126]],[[249,193,206],[165,200,209],[0,147,165]],[[124,66,38],[238,180,128],[0,91,141]],[[181,147,146],[197,83,71],[255,239,174]],[[109,65,69],[255,239,174],[85,88,50],[150,209,170]],[[204,18,54],[0,79,70],[112,67,87]],[[245,142,132],[248,237,67],[122,68,86]],[[255,239,174],[238,180,128],[197,165,110],[194,174,147]],[[0,91,141],[181,177,216],[112,114,124]],[[212,109,122],[255,221,0],[166,161,89],[30,14,63]],[[242,114,145],[130,36,31],[181,222,204]],[[227,31,38],[235,211,162],[143,160,113],[0,151,141]],[[218,82,93],[85,88,50],[202,146,168],[122,68,86]],[[212,109,122],[238,167,140],[180,205,194],[0,180,155]],[[248,182,186],[255,239,174],[161,163,154]],[[187,113,37],[248,237,67],[241,90,48],[17,19,20]],[[252,199,155],[194,174,147],[248,237,67],[181,222,204]],[[166,44,55],[150,135,77],[64,69,106]],[[124,66,38],[178,183,62],[30,14,63]],[[248,237,67],[9,145,151],[0,91,141],[161,163,154]],[[214,180,62],[150,209,170],[79,64,134]],[[245,236,194],[249,157,27],[6,79,110]],[[255,221,0],[181,222,204],[0,113,144]],[[194,117,68],[0,113,144],[89,37,106]],[[243,127,148],[187,113,37],[194,174,147],[192,169,179]],[[235,83,36],[253,212,189],[90,130,179]],[[166,44,55],[118,44,25],[151,172,200]],[[227,31,38],[168,66,34],[191,88,146],[100,80,161]]];function getRandomGradient(e=.2){const t=palettes[Math.round(palettes.length*Math.random())];return t.map(([o,a,r],c)=>{const l=Math.max(0,Math.min(1,c/(t.length-1)-e+Math.random()*(e*2)));return{id:`${c}`,position:l,color:{r:o/255,g:a/255,b:r/255,a:1}}})}function MainToolbar(){const e=useDisclosure(),t=useColorStopsAPI(),n=React.useCallback(()=>{t.replace(getRandomGradient())},[t]),o=React.useCallback(()=>{t.replace(reverseColorStops(t.objects))},[t]);return React.createElement(React.Fragment,null,React.createElement(Box,{p:3},React.createElement(Flex,null,React.createElement(ButtonGroup,{spacing:3},React.createElement(Button,{onClick:n},"Random"),React.createElement(Button,{onClick:o},"Reverse")),React.createElement(Spacer,null),React.createElement(ButtonGroup,{spacing:3},React.createElement(Button,{onClick:e.onOpen},"Help")))),React.createElement(HelpModal,{open:e.isOpen,onClose:e.onClose}))}function objectReducer(e,t){switch(t.type){case"replace":return d({},t.newObject);case"change":return d(d({},e),t.changes)}return e}function useObject(e){const[t,n]=React.useReducer(objectReducer,void 0,e),o=React.useCallback(r=>{n({type:"change",changes:r})},[n]),a=React.useCallback(r=>{n({type:"replace",newObject:r})},[n]);return{object:t,change:o,replace:a}}function useInitialStateFromQuery(e){const t=useToast();React.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("s");if(o)try{e(importState(o))}catch(a){t({status:"error",title:"Could not load state from URL",description:a.toString()})}},[t,e])}function getInitialGradient(){return getRandomGradient(.1)}function getInitialCodegenConfig(){return d({},defaultConfig)}function getInitialGradientConfig(){return{interpolation:InterpolationType.Plain,interpolationPoints:10,colorspace:"srgb"}}function App(){const e=useArrayOfObjects(getInitialGradient),t=useObject(getInitialCodegenConfig),n=useObject(getInitialGradientConfig);return useInitialStateFromQuery(e.replace),React.createElement(Container,{maxW:"container.xl"},React.createElement(ColorStopsAPIContext.Provider,{value:e},React.createElement(CodegenConfigContext.Provider,{value:t},React.createElement(GradientConfigContext.Provider,{value:n},React.createElement(MainToolbar,null),React.createElement(MainAccordion,null)))))}ReactDOM.render(React.createElement(React.StrictMode,null,React.createElement(ChakraProvider,null,React.createElement(App,null))),document.getElementById("root"));

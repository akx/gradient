(this.webpackJsonpgradient=this.webpackJsonpgradient||[]).push([[0],{166:function(e,t,a){"use strict";a.r(t);var n=a(189),r=a(2),o=a.n(r),c=a(119),i=a.n(c),l=a(186),s=a(187),_=a(183),u=a(6),d=a(14),b=a(57);function p(e){return"rgba(".concat(255*e.r,", ").concat(255*e.g,", ").concat(255*e.b,", ").concat(100*e.a,"%)")}function j(e,t){var a=b.converter("hsl")(Object(d.a)({mode:"rgb"},e));Object.assign(a,t);var n=b.converter("rgb")(a);return Object(d.a)(Object(d.a)({},e),{},{r:n.r,g:n.g,b:n.b})}var h=a(192),g=o.a.createContext({}),O=a(45),f=a(5);function x(e,t){var a=e.clientX,n=t.getBoundingClientRect(),r=n.left,o=n.width;return Math.min(1,Math.max(0,(a-r)/o))}function m(e){var t=e.colorStops,a=e.selectedStopId,n=o.a.useContext(g),r=o.a.useState(null),c=Object(u.a)(r,2),i=c[0],l=c[1],s=o.a.useRef(null),_=o.a.useCallback((function(e){var t=e.target.dataset.stopid;t&&(l(t),n.select(t))}),[n]),d=o.a.useCallback((function(){l(null)}),[]),b=o.a.useCallback((function(e){var t=s.current;if(i&&t){var a=x(e,t);n.changePartial(i,{position:a})}}),[i,n]);Object(h.a)("mouseup",i?d:null,window,{capture:!0}),Object(h.a)("mousemove",i?b:null,window,{capture:!0});var j=o.a.useCallback((function(e){var a=e.target.dataset.stopid;if(a)n.select(a),e.stopPropagation(),e.preventDefault();else if(e.target===s.current){var r=x(e,s.current),o=Object(O.c)(t,r)||{r:1,g:0,b:1,a:1},c=Math.random().toString(32);n.add({id:c,position:r,color:o}),n.select(c)}}),[n,t]);return Object(f.jsx)("div",{style:{position:"relative",height:"1em",background:"cornsilk"},onMouseDown:_,onClick:j,ref:s,children:t.map((function(e){return Object(f.jsxs)("div",{"data-stopid":e.id,style:{position:"absolute",left:"".concat(100*e.position,"%"),transform:"translateX(-50%) translateY(-5px)",background:p(e.color),color:p((t=e.color,{r:1-t.r,g:1-t.g,b:1-t.b,a:t.a})),cursor:"move",userSelect:"none",width:"5ch",textAlign:"center",border:"1px solid black",borderRadius:"3px",borderColor:a===e.id?"black":"transparent",fontSize:"8pt"},children:[(100*e.position).toFixed(0),"%"]},e.id);var t}))})}var v=a(49),C=a(180),A=a(188),w=a(184),k=a(185),E=a(128),D=a(190);function P(e){var t=e.onChange,a=e.label,n=e.value,r=e.colorScheme,o=e.eventKey,c=e.min,i=e.max,l=e.formatHelp,s=e.trackColor;return Object(f.jsxs)(v.a,{children:[Object(f.jsx)(C.a,{children:a}),Object(f.jsxs)(A.a,{colorScheme:r,value:n,step:0,onChange:function(e){return t(o,e)},min:c,max:i,children:[Object(f.jsx)(A.d,{children:Object(f.jsx)(A.b,{bg:s})}),Object(f.jsx)(A.c,{})]}),l?Object(f.jsx)(v.b,{children:l(n)}):null]})}var M=function(e){var t=Math.round(255*e);return Object(f.jsxs)(f.Fragment,{children:[e.toFixed(5)," (",t,", ",t.toString(16),")"]})};function I(e){var t=e.stop,a=o.a.useContext(g),n=o.a.useCallback((function(e,n){var r=Object(d.a)({},t),o=r.color;switch(e){case"red":r.color=Object(d.a)(Object(d.a)({},o),{},{r:n});break;case"green":r.color=Object(d.a)(Object(d.a)({},o),{},{g:n});break;case"blue":r.color=Object(d.a)(Object(d.a)({},o),{},{b:n});break;case"alpha":r.color=Object(d.a)(Object(d.a)({},o),{},{a:n});break;case"hue":r.color=j(o,{h:n});break;case"saturation":r.color=j(o,{s:n});break;case"lightness":r.color=j(o,{l:n})}a.change(r)}),[a,t]),r=b.converter("hsl")(Object(d.a)({mode:"rgb"},t.color));return Object(f.jsxs)(_.a,{borderWidth:"1px",borderRadius:"lg",p:6,children:[Object(f.jsxs)(v.a,{children:[Object(f.jsx)(C.a,{children:"Position"}),Object(f.jsxs)(A.a,{value:t.position,step:0,min:0,max:1,onChange:function(e){return a.changePartial(t.id,{position:e})},children:[Object(f.jsx)(A.d,{}),Object(f.jsx)(A.c,{})]}),Object(f.jsxs)(v.b,{children:[(100*t.position).toFixed(2),"%"]})]}),Object(f.jsxs)(w.a,{templateColumns:"repeat(4, 1fr)",gap:6,children:[Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Red",eventKey:"red",onChange:n,value:t.color.r,min:0,max:1,colorScheme:"red",formatHelp:M})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Green",eventKey:"green",onChange:n,value:t.color.g,min:0,max:1,colorScheme:"green",formatHelp:M})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Blue",eventKey:"blue",onChange:n,value:t.color.b,min:0,max:1,colorScheme:"blue",formatHelp:M})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Alpha",eventKey:"alpha",onChange:n,value:t.color.a,min:0,max:1,colorScheme:"blackAlpha",formatHelp:M})})]}),Object(f.jsxs)(w.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Hue",eventKey:"hue",onChange:n,value:r.h||0,min:0,max:360,trackColor:"hsl(".concat((r.h||0).toFixed(1),"deg, 100%, 50%)")})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Saturation",eventKey:"saturation",onChange:n,value:r.s,min:0,max:1,trackColor:"hsl(".concat((r.h||0).toFixed(1),"deg, ").concat((100*r.s).toFixed(1),"%, 50%)")})}),Object(f.jsx)(_.a,{children:Object(f.jsx)(P,{label:"Lightness",eventKey:"lightness",onChange:n,value:r.l,min:0,max:1,trackColor:"hsl(0deg, 0%, ".concat((100*r.l).toFixed(1),"%)")})})]}),Object(f.jsx)(k.a,{py:4}),Object(f.jsx)(E.a,{pt:4,spacing:"6",children:Object(f.jsx)(D.a,{colorScheme:"red",onClick:function(){return a.delete(t.id)},children:"Delete stop"})})]})}function y(e,t){switch(t.type){case"add":return e.concat([t.value]);case"changePartial":return e.map((function(e){return e.id!==t.id?e:Object(d.a)(Object(d.a)({},e),t.changes)}));case"change":return e.map((function(e){return e.id!==t.value.id?e:t.value}));case"delete":return e.filter((function(e){return e.id!==t.id}))}return e}function S(e){var t=e.colorStops,a=o.a.useRef(null);return o.a.useEffect((function(){var e=a.current;if(e){var n=e.getContext("2d");n&&Object(O.b)(n,t)}}),[t]),Object(f.jsx)("canvas",{ref:a,width:1200,height:150,style:{width:"100%",background:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAADFBMVEWIiIjd3d3y8vLm5uZzdc63AAAAbklEQVR42u3ZIQ4AIAwDwI39/8/wAlTFxFUgm5ALmFZV51Iv52Vyx/7CzhdONr3/ylCgQIECBQoUKFCgQIECBQoUKFCgQIECBcrmccGe4qX4vqBAgQIFChQoUKBAgQIFChQoUKBAgQIFij3lX3gBXBBzc8FaGvIAAAAASUVORK5CYII=",")")}})}var B=a(191),K=a(48);function F(e){var t=e.colorStops,a=o.a.useState(""),n=Object(u.a)(a,2),r=n[0],c=n[1];return o.a.useEffect((function(){Object(K.b)(t,Object(d.a)({},K.a)).then(c)}),[t]),Object(f.jsx)(B.a,{readOnly:!0,value:r,rows:15})}function R(){return[{id:"1",position:0,color:{r:0,g:0,b:0,a:1}},{id:"2",position:.5,color:{r:0,g:1,b:0,a:1}},{id:"3",position:1,color:{r:1,g:1,b:1,a:1}}]}var U=function(){var e=function(e){var t=o.a.useReducer(y,void 0,e),a=Object(u.a)(t,2),n=a[0],r=a[1],c=o.a.useState(null),i=Object(u.a)(c,2),l=i[0],s=i[1],_=o.a.useCallback((function(e){r({type:"add",value:e})}),[r]);return{objects:n,selectedId:l,change:o.a.useCallback((function(e){r({type:"change",value:e})}),[r]),changePartial:o.a.useCallback((function(e,t){r({type:"changePartial",id:e,changes:t})}),[r]),add:_,delete:o.a.useCallback((function(e){r({type:"delete",id:e})}),[r]),select:s}}(R),t=e.objects,a=e.selectedId,n=t.find((function(e){return e.id===a}));return Object(f.jsx)(l.a,{maxW:"container.xl",children:Object(f.jsx)(g.Provider,{value:e,children:Object(f.jsxs)(s.a,{defaultIndex:[0,1],allowMultiple:!0,reduceMotion:!0,children:[Object(f.jsxs)(s.d,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)(s.b,{children:[Object(f.jsx)(_.a,{flex:"1",textAlign:"left",children:"Editor"}),Object(f.jsx)(s.c,{})]})}),Object(f.jsxs)(s.e,{pb:4,children:[Object(f.jsx)(S,{colorStops:t}),Object(f.jsx)(m,{colorStops:t,selectedStopId:a}),n?Object(f.jsx)(I,{stop:n}):null]})]}),Object(f.jsxs)(s.d,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)(s.b,{children:[Object(f.jsx)(_.a,{flex:"1",textAlign:"left",children:"Code"}),Object(f.jsx)(s.c,{})]})}),Object(f.jsx)(s.e,{pb:4,children:Object(f.jsx)(F,{colorStops:t})})]})]})})})};i.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(n.a,{children:Object(f.jsx)(U,{})})}),document.getElementById("root"))},45:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cleanGradient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return renderGradient})),__webpack_require__.d(__webpack_exports__,"c",(function(){return sample}));var _home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(120),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),_codegen__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(48);function cleanGradient(e){return Object(lodash__WEBPACK_IMPORTED_MODULE_2__.sortBy)(e,(function(e){return e.position}))}function findStops(e,t){var a=e[0],n=e[e.length-1];if(e.length>1){if(t<a.position)return[a,a];if(t>n.position)return[n,n];for(var r=0;r<e.length-1;r++)if(e[r].position<=t&&t<=e[r+1].position)return[e[r],e[r+1]]}return[a,n]}function interpolate(e,t){if(0===e.length)return null;var a=findStops(e,t),n=Object(_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(a,2),r=n[0],o=n[1],c=o.position-r.position,i=(t-r.position)/(0===c?1:c),l=1-i,s=r.color,_=o.color;return{r:s.r*l+_.r*i,g:s.g*l+_.g*i,b:s.b*l+_.b*i,a:s.a*l+_.a*i}}function renderGradient(ctx,stops){ctx.canvas.width=0|ctx.canvas.width;for(var imageData=new ImageData(ctx.canvas.width,4),getColor=eval(Object(_codegen__WEBPACK_IMPORTED_MODULE_3__.c)(stops,Object(_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)(Object(_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},_codegen__WEBPACK_IMPORTED_MODULE_3__.a),{},{arrowFunction:!0}))),x=0;x<imageData.width;x++)for(var i=x/(imageData.width-1),_getColor=getColor(i),_getColor2=Object(_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_getColor,4),r=_getColor2[0],g=_getColor2[1],b=_getColor2[2],a=_getColor2[3],y=0;y<imageData.height;y++){var offset=4*(y*imageData.width+x);imageData.data[offset]=Math.round(255*r),imageData.data[offset+1]=Math.round(255*g),imageData.data[offset+2]=Math.round(255*b),imageData.data[offset+3]=Math.round(255*a)}ctx.putImageData(imageData,0,0),ctx.drawImage(ctx.canvas,0,0,imageData.width,2,0,0,imageData.width,ctx.canvas.height)}function sample(e,t){return interpolate(cleanGradient(e),t)}},48:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return g})),a.d(t,"b",(function(){return O}));var n=a(15),r=a.n(n),o=a(23),c=a(45),i=a(121),l=a(122),s=a.n(l),_=a(51),u={arrowFunction:!1,includeAlpha:!0,positionPrecision:3,valuePrecision:4};function d(e,t,a){var n=e.r,r=e.g,o=e.b,c=e.a,i=b(n,a),l=b(r,a),s=b(o,a);if(t){var _=b(c,a);return"[".concat(i,",").concat(l,",").concat(s,",").concat(_,"]")}return"[".concat(i,",").concat(l,",").concat(s,"]")}function b(e,t){return e===Math.round(e)?e.toFixed(0):e.toFixed(t)}function p(e,t,a){return 0===e?"0":1===e?a:"".concat(b(e,t)," * ").concat(a)}function j(e,t,a){if(Math.abs(e-t)<.001)return b(e,a);var n=p(e,a,"b"),r=p(t,a,"a");return 0===e?r:0===t?n:"".concat(n," + ").concat(r)}function h(e){return Object(i.format)(e,{parser:s.a.parsers.babel.parse,printWidth:120})}function g(e,t){var a=Object(c.a)(e),n=[],r=n.push.bind(n);t.arrowFunction?r("(position) => {"):r("function getColor(position) {");for(var o=0;o<a.length;o++){var i=a[o],l=o<a.length-1?a[o+1]:null,s=d(i.color,t.includeAlpha,t.valuePrecision),_=b(i.position,t.positionPrecision);if(0===o&&i.position>0?r("if(position <= ".concat(_,") return ").concat(s,";")):o===a.length-1&&r("return ".concat(s,";")),l){r("if(position < ".concat(b(l.position,t.positionPrecision),")")),r("{");var u=b(l.position-i.position,t.positionPrecision);0===i.position?r("const a = position / ".concat(u,", b = 1 - a;")):r("const a = (position - ".concat(_,") / ").concat(u,", b = 1 - a;"));var p=[j(i.color.r,l.color.r,t.valuePrecision),j(i.color.g,l.color.g,t.valuePrecision),j(i.color.b,l.color.b,t.valuePrecision)];t.includeAlpha&&(p.push(j(i.color.a,l.color.a,t.valuePrecision)),r("return [".concat(p.join(","),"];"))),r("}")}}return r("}"),h(n.join(""))}function O(e,t){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(r.a.mark((function e(t,a){var n,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g(t,a),e.next=3,Object(_.b)(n,{mangle:!1});case 3:return o=e.sent,c=o.code||"",e.abrupt("return",h(c));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},[[166,1,2]]]);
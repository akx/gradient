(this.webpackJsonpgradient=this.webpackJsonpgradient||[]).push([[0],{166:function(e,t,a){"use strict";a.r(t);var n=a(189),r=a(2),c=a.n(r),o=a(119),i=a.n(o),l=a(186),s=a(187),u=a(183),d=a(6),b=a(17),_=a(56);function j(e){return"rgba(".concat(255*e.r,", ").concat(255*e.g,", ").concat(255*e.b,", ").concat(100*e.a,"%)")}function h(e,t){var a=_.converter("hsl")(Object(b.a)({mode:"rgb"},e));Object.assign(a,t);var n=_.converter("rgb")(a);return Object(b.a)(Object(b.a)({},e),{},{r:n.r,g:n.g,b:n.b})}var p=a(192),g=c.a.createContext({}),x=a(45),f=a(5);function O(e,t){var a=e.clientX,n=t.getBoundingClientRect(),r=n.left,c=n.width;return Math.min(1,Math.max(0,(a-r)/c))}function m(e){var t=e.colorStops,a=e.selectedStopId,n=c.a.useContext(g),r=c.a.useState(null),o=Object(d.a)(r,2),i=o[0],l=o[1],s=c.a.useRef(null),u=c.a.useCallback((function(e){var t=e.target.dataset.stopid;t&&(l(t),n.select(t))}),[n]),b=c.a.useCallback((function(){l(null)}),[]),_=c.a.useCallback((function(e){var t=s.current;if(i&&t){var a=O(e,t);n.changePartial(i,{position:a})}}),[i,n]);Object(p.a)("mouseup",i?b:null,window,{capture:!0}),Object(p.a)("mousemove",i?_:null,window,{capture:!0});var h=c.a.useCallback((function(e){var a=e.target.dataset.stopid;if(a)n.select(a),e.stopPropagation(),e.preventDefault();else if(e.target===s.current){var r=O(e,s.current),c=Object(x.c)(t,r)||{r:1,g:0,b:1,a:1},o=Math.random().toString(32);n.add({id:o,position:r,color:c}),n.select(o)}}),[n,t]);return Object(f.jsx)("div",{style:{position:"relative",height:"1em",background:"cornsilk"},onMouseDown:u,onClick:h,ref:s,children:t.map((function(e){return Object(f.jsxs)("div",{"data-stopid":e.id,style:{position:"absolute",left:"".concat(100*e.position,"%"),transform:"translateX(-50%) translateY(-5px)",background:j(e.color),color:j((t=e.color,{r:1-t.r,g:1-t.g,b:1-t.b,a:t.a})),cursor:"move",userSelect:"none",width:"5ch",textAlign:"center",border:"1px solid black",borderRadius:"3px",borderColor:a===e.id?"black":"transparent",fontSize:"8pt"},children:[(100*e.position).toFixed(0),"%"]},e.id);var t}))})}var v=a(48),C=a(180),A=a(188),w=a(184),k=a(185),D=a(128),E=a(190);function M(e){var t=e.onChange,a=e.label,n=e.value,r=e.colorScheme,c=e.eventKey,o=e.min,i=e.max,l=e.formatHelp,s=e.trackColor;return Object(f.jsxs)(v.a,{children:[Object(f.jsx)(C.a,{children:a}),Object(f.jsxs)(A.a,{colorScheme:r,value:n,step:0,onChange:function(e){return t(c,e)},min:o,max:i,children:[Object(f.jsx)(A.d,{children:Object(f.jsx)(A.b,{bg:s})}),Object(f.jsx)(A.c,{})]}),l?Object(f.jsx)(v.b,{children:l(n)}):null]})}var I=function(e){var t=Math.round(255*e);return Object(f.jsxs)(f.Fragment,{children:[e.toFixed(5)," (",t,", ",t.toString(16),")"]})};function y(e){var t=e.stop,a=c.a.useContext(g),n=c.a.useCallback((function(e,n){var r=Object(b.a)({},t),c=r.color;switch(e){case"red":r.color=Object(b.a)(Object(b.a)({},c),{},{r:n});break;case"green":r.color=Object(b.a)(Object(b.a)({},c),{},{g:n});break;case"blue":r.color=Object(b.a)(Object(b.a)({},c),{},{b:n});break;case"alpha":r.color=Object(b.a)(Object(b.a)({},c),{},{a:n});break;case"hue":r.color=h(c,{h:n});break;case"saturation":r.color=h(c,{s:n});break;case"lightness":r.color=h(c,{l:n})}a.change(r)}),[a,t]),r=_.converter("hsl")(Object(b.a)({mode:"rgb"},t.color));return Object(f.jsxs)(u.a,{borderWidth:"1px",borderRadius:"lg",p:6,children:[Object(f.jsxs)(v.a,{children:[Object(f.jsx)(C.a,{children:"Position"}),Object(f.jsxs)(A.a,{value:t.position,step:0,min:0,max:1,onChange:function(e){return a.changePartial(t.id,{position:e})},children:[Object(f.jsx)(A.d,{}),Object(f.jsx)(A.c,{})]}),Object(f.jsxs)(v.b,{children:[(100*t.position).toFixed(2),"%"]})]}),Object(f.jsxs)(w.a,{templateColumns:"repeat(4, 1fr)",gap:6,children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Red",eventKey:"red",onChange:n,value:t.color.r,min:0,max:1,colorScheme:"red",formatHelp:I})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Green",eventKey:"green",onChange:n,value:t.color.g,min:0,max:1,colorScheme:"green",formatHelp:I})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Blue",eventKey:"blue",onChange:n,value:t.color.b,min:0,max:1,colorScheme:"blue",formatHelp:I})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Alpha",eventKey:"alpha",onChange:n,value:t.color.a,min:0,max:1,colorScheme:"blackAlpha",formatHelp:I})})]}),Object(f.jsxs)(w.a,{templateColumns:"repeat(3, 1fr)",gap:6,children:[Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Hue",eventKey:"hue",onChange:n,value:r.h||0,min:0,max:360,trackColor:"hsl(".concat((r.h||0).toFixed(1),"deg, 100%, 50%)")})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Saturation",eventKey:"saturation",onChange:n,value:r.s,min:0,max:1,trackColor:"hsl(".concat((r.h||0).toFixed(1),"deg, ").concat((100*r.s).toFixed(1),"%, 50%)")})}),Object(f.jsx)(u.a,{children:Object(f.jsx)(M,{label:"Lightness",eventKey:"lightness",onChange:n,value:r.l,min:0,max:1,trackColor:"hsl(0deg, 0%, ".concat((100*r.l).toFixed(1),"%)")})})]}),Object(f.jsx)(k.a,{py:4}),Object(f.jsx)(D.a,{pt:4,spacing:"6",children:Object(f.jsx)(E.a,{colorScheme:"red",onClick:function(){return a.delete(t.id)},children:"Delete stop"})})]})}function S(e,t){switch(t.type){case"add":return e.concat([t.value]);case"changePartial":return e.map((function(e){return e.id!==t.id?e:Object(b.a)(Object(b.a)({},e),t.changes)}));case"change":return e.map((function(e){return e.id!==t.value.id?e:t.value}));case"delete":return e.filter((function(e){return e.id!==t.id}))}return e}function P(e){var t=e.colorStops,a=c.a.useRef(null);return c.a.useEffect((function(){var e=a.current;if(e){var n=e.getContext("2d");n&&Object(x.b)(n,t)}}),[t]),Object(f.jsx)("canvas",{ref:a,width:1200,height:150,style:{width:"100%",background:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAADFBMVEWIiIjd3d3y8vLm5uZzdc63AAAAbklEQVR42u3ZIQ4AIAwDwI39/8/wAlTFxFUgm5ALmFZV51Iv52Vyx/7CzhdONr3/ylCgQIECBQoUKFCgQIECBQoUKFCgQIECBcrmccGe4qX4vqBAgQIFChQoUKBAgQIFChQoUKBAgQIFij3lX3gBXBBzc8FaGvIAAAAASUVORK5CYII=",")")}})}var F=a(191),B=a(69);function K(e){var t=e.colorStops,a=c.a.useState(""),n=Object(d.a)(a,2),r=n[0],o=n[1];return c.a.useEffect((function(){Object(B.a)(t,{}).then(o)}),[t]),Object(f.jsx)(F.a,{readOnly:!0,value:r,rows:15})}function R(){return[{id:"1",position:0,color:{r:0,g:0,b:0,a:1}},{id:"2",position:.5,color:{r:0,g:1,b:0,a:1}},{id:"3",position:1,color:{r:1,g:1,b:1,a:1}}]}var U=function(){var e=function(e){var t=c.a.useReducer(S,void 0,e),a=Object(d.a)(t,2),n=a[0],r=a[1],o=c.a.useState(null),i=Object(d.a)(o,2),l=i[0],s=i[1],u=c.a.useCallback((function(e){r({type:"add",value:e})}),[r]);return{objects:n,selectedId:l,change:c.a.useCallback((function(e){r({type:"change",value:e})}),[r]),changePartial:c.a.useCallback((function(e,t){r({type:"changePartial",id:e,changes:t})}),[r]),add:u,delete:c.a.useCallback((function(e){r({type:"delete",id:e})}),[r]),select:s}}(R),t=e.objects,a=e.selectedId,n=t.find((function(e){return e.id===a}));return Object(f.jsx)(l.a,{maxW:"container.xl",children:Object(f.jsx)(g.Provider,{value:e,children:Object(f.jsxs)(s.a,{defaultIndex:[0,1],allowMultiple:!0,reduceMotion:!0,children:[Object(f.jsxs)(s.d,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)(s.b,{children:[Object(f.jsx)(u.a,{flex:"1",textAlign:"left",children:"Editor"}),Object(f.jsx)(s.c,{})]})}),Object(f.jsxs)(s.e,{pb:4,children:[Object(f.jsx)(P,{colorStops:t}),Object(f.jsx)(m,{colorStops:t,selectedStopId:a}),n?Object(f.jsx)(y,{stop:n}):null]})]}),Object(f.jsxs)(s.d,{children:[Object(f.jsx)("h2",{children:Object(f.jsxs)(s.b,{children:[Object(f.jsx)(u.a,{flex:"1",textAlign:"left",children:"Code"}),Object(f.jsx)(s.c,{})]})}),Object(f.jsx)(s.e,{pb:4,children:Object(f.jsx)(K,{colorStops:t})})]})]})})})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(n.a,{children:Object(f.jsx)(U,{})})}),document.getElementById("root"))},45:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cleanGradient})),__webpack_require__.d(__webpack_exports__,"b",(function(){return renderGradient})),__webpack_require__.d(__webpack_exports__,"c",(function(){return sample}));var _home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(120),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),_codegen__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(69);function cleanGradient(e){return Object(lodash__WEBPACK_IMPORTED_MODULE_1__.sortBy)(e,(function(e){return e.position}))}function findStops(e,t){var a=e[0],n=e[e.length-1];if(e.length>1){if(t<a.position)return[a,a];if(t>n.position)return[n,n];for(var r=0;r<e.length-1;r++)if(e[r].position<=t&&t<=e[r+1].position)return[e[r],e[r+1]]}return[a,n]}function interpolate(e,t){if(0===e.length)return null;var a=findStops(e,t),n=Object(_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(a,2),r=n[0],c=n[1],o=c.position-r.position,i=(t-r.position)/(0===o?1:o),l=1-i,s=r.color,u=c.color;return{r:s.r*l+u.r*i,g:s.g*l+u.g*i,b:s.b*l+u.b*i,a:s.a*l+u.a*i}}function renderGradient(ctx,stops){ctx.canvas.width=0|ctx.canvas.width;for(var imageData=new ImageData(ctx.canvas.width,4),getColor=eval(Object(_codegen__WEBPACK_IMPORTED_MODULE_2__.b)(stops,{arrowFunction:!0})),x=0;x<imageData.width;x++)for(var i=x/(imageData.width-1),_getColor=getColor(i),_getColor2=Object(_home_runner_work_gradient_gradient_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_getColor,4),r=_getColor2[0],g=_getColor2[1],b=_getColor2[2],a=_getColor2[3],y=0;y<imageData.height;y++){var offset=4*(y*imageData.width+x);imageData.data[offset]=Math.round(255*r),imageData.data[offset+1]=Math.round(255*g),imageData.data[offset+2]=Math.round(255*b),imageData.data[offset+3]=Math.round(255*a)}ctx.putImageData(imageData,0,0),ctx.drawImage(ctx.canvas,0,0,imageData.width,2,0,0,imageData.width,ctx.canvas.height)}function sample(e,t){return interpolate(cleanGradient(e),t)}},69:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return g}));var n=a(14),r=a.n(n),c=a(23),o=a(45),i=a(121),l=a(122),s=a.n(l),u=a(50);function d(e){var t=e.r,a=e.g,n=e.b,r=e.a,c=_(t),o=_(a),i=_(n),l=_(r);return"[".concat(c,",").concat(o,",").concat(i,",").concat(l,"]")}function b(e){return e===Math.round(e)?e.toFixed(0):e.toFixed(3)}function _(e){return e===Math.round(e)?e.toFixed(0):e.toFixed(4)}function j(e,t){return Math.abs(e-t)<.001?_(e):"".concat(_(e)," * beta + ").concat(_(t)," * alpha")}function h(e){return Object(i.format)(e,{parser:s.a.parsers.babel.parse,printWidth:120})}function p(e,t){var a=Object(o.a)(e),n=[],r=n.push.bind(n);t.arrowFunction?r("(position) => {"):r("function getColor(position) {");for(var c=0;c<a.length;c++){var i=a[c],l=c<a.length-1?a[c+1]:null,s=d(i.color),u=b(i.position);if(0===c?r("if(position <= ".concat(u,") return ").concat(s,";")):c===a.length-1&&r("return ".concat(s,";")),l){r("if(position < ".concat(b(l.position),")")),r("{");var _=b(l.position-i.position);r("const alpha = (position - ".concat(u,") / ").concat(_,", beta = 1 - alpha;")),r("return [\n      ".concat(j(i.color.r,l.color.r),",\n      ").concat(j(i.color.g,l.color.g),",\n      ").concat(j(i.color.b,l.color.b),",\n      ").concat(j(i.color.a,l.color.a),",\n      ];")),r("}")}}return r("}"),h(n.join(""))}function g(e,t){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(r.a.mark((function e(t,a){var n,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(t,a),e.next=3,Object(u.b)(n,{mangle:!1});case 3:return c=e.sent,o=c.code||"",e.abrupt("return",h(o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},[[166,1,2]]]);